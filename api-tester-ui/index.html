<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Backend Game Testing Tool</title>
    
    <!-- CSS styles -->
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="logo">
                <h1>AI Backend Game - Testing Tool</h1>
            </div>
            <div class="header-controls">
                <button id="show-logs-btn" class="btn btn-secondary" title="Show Test Logs">
                    <span class="logs-icon">ðŸ“‹</span> View Logs
                </button>
                <button id="theme-toggle" class="btn btn-icon" title="Toggle Dark Mode">
                    <span class="theme-icon">ðŸŒ™</span>
                </button>
            </div>
        </header>
        
        <main class="app-main">
            <div class="flow-sidebar">
                <h2>Test Flows</h2>
                <div class="flow-menu" id="flow-menu">
                    <!-- Flows will be added here dynamically -->
                    <div class="loading">Loading flows...</div>
                </div>
            </div>
            
            <div class="content">
                <div class="flow-steps" id="flow-steps">
                    <div class="welcome-message">
                        <h2>Welcome to the AI Backend Game Testing Tool</h2>
                        <p>This tool helps you test your AI Backend Game step by step.</p>
                        <p>Select a flow from the menu on the left to begin testing.</p>
                        <ol>
                            <li>Select a flow (like "User Setup Flow")</li>
                            <li>Follow the steps in order</li>
                            <li>Fill in the required information</li>
                            <li>Click "Run This Step" to test each part</li>
                            <li>View the results and continue to the next step</li>
                        </ol>
                        <p>If you encounter any errors, helpful explanations will be provided, and all errors are automatically logged for troubleshooting.</p>
                    </div>
                </div>
                
                <div class="step-details hidden" id="step-details">
                    <div class="step-header">
                        <h2 id="step-title">Step Details</h2>
                        <span id="step-description" class="step-description"></span>
                    </div>
                    
                    <div class="step-form">
                        <div class="form-inputs" id="form-inputs">
                            <!-- Form inputs will be generated here based on the step -->
                        </div>
                        
                        <div class="form-actions">
                            <button id="run-step-btn" class="btn btn-primary">Run This Step</button>
                            <button id="clear-form-btn" class="btn">Clear Form</button>
                        </div>
                    </div>
                    
                    <div class="result-panel hidden" id="result-panel">
                        <h3>Result</h3>
                        <div class="result-status" id="result-status"></div>
                        <div class="result-content" id="result-content"></div>
                    </div>
                </div>
            </div>
        </main>
        
        <div id="loading-indicator" class="loading-indicator">
            <div class="spinner"></div>
            <span>Running test...</span>
        </div>
        
        <div id="logs-panel" class="logs-panel">
            <div class="logs-header">
                <h2>Test Logs</h2>
                <div class="logs-actions">
                    <button id="clear-logs-btn" class="btn btn-secondary btn-sm">Clear Logs</button>
                    <button id="copy-logs-btn" class="btn btn-secondary btn-sm">Copy to Clipboard</button>
                    <button id="close-logs-btn" class="btn btn-icon">âœ•</button>
                </div>
            </div>
            <div class="logs-content" id="logs-content">
                <div class="logs-filter">
                    <label>
                        <input type="checkbox" id="filter-debug" checked> DEBUG
                    </label>
                    <label>
                        <input type="checkbox" id="filter-info" checked> INFO
                    </label>
                    <label>
                        <input type="checkbox" id="filter-warning" checked> WARNING
                    </label>
                    <label>
                        <input type="checkbox" id="filter-error" checked> ERROR
                    </label>
                    <input type="text" id="logs-search" placeholder="Search logs...">
                </div>
                <div class="logs-list" id="logs-list">
                    <!-- Logs will be populated here -->
                    <div class="empty-logs">No logs to display.</div>
                </div>
            </div>
        </div>
        
        <footer class="app-footer">
            <p>AI Backend Game Testing Tool - All errors are automatically logged for troubleshooting</p>
        </footer>
    </div>
    
    <!-- Script files -->
    <script type="module" src="./js/main.js"></script>
</body>
</html> 