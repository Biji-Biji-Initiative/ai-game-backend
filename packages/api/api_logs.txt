npm warn config ignoring workspace config at /Users/gsplace/ai back end game/packages/api/.npmrc

> @ai-fight-club/api@1.0.0 dev
> nodemon

[33m[nodemon] 3.1.9[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): src/**/*[39m
[33m[nodemon] watching extensions: js,json[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:14333) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 13:58:47.588  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 13:58:47.592  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 13:58:47.685  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 13:58:47.686  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 13:58:47.687  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
ChallengeService running in development mode with real repository
2025-03-31 13:58:47.687  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 13:58:47.687  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
ChallengeService running in development mode with real repository
2025-03-31 13:58:47.688  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 13:58:47.688  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 13:58:47.689  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 13:58:47.689  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 13:58:47.689  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 13:58:47.689  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 13:58:47.689  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 13:58:47.690  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 13:58:47.690  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 13:58:47.690  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 13:58:47.741  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 13:58:47.742  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 13:58:47.742  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 13:58:47.742  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 13:58:47.745  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 13:58:47.745  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 13:58:47.745  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 13:58:47.745  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 13:58:47.745  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 13:58:47.746  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 13:58:48.039  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 13:58:48.040  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "369.35ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 13:58:48.041  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 13:58:48.042  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 13:58:48.042  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:58:48.042  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:58:48.042  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:58:48.043  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 13:58:48.043  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 13:58:48.043  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 13:58:48.043  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:58:48.043  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 13:58:48.221  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 179,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:15782) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 13:59:36.042  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 13:59:36.047  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 13:59:36.547  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 13:59:36.547  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 13:59:36.549  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
ChallengeService running in development mode with real repository
2025-03-31 13:59:36.550  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 13:59:36.550  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
ChallengeService running in development mode with real repository
2025-03-31 13:59:36.551  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 13:59:36.558  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 13:59:36.567  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 13:59:36.567  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 13:59:36.567  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 13:59:36.567  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 13:59:36.570  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 13:59:36.570  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 13:59:36.571  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 13:59:36.571  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 13:59:36.959  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 13:59:36.959  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 13:59:36.959  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 13:59:36.960  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 13:59:36.960  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 13:59:36.991  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 13:59:36.991  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 13:59:36.991  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 13:59:36.991  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 13:59:36.992  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
2025-03-31 13:59:36.992  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 13:59:36.995  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 13:59:36.995  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 13:59:36.995  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 13:59:36.996  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 13:59:36.996  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 13:59:36.996  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 13:59:36.996  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 13:59:36.996  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 13:59:36.996  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 13:59:37.330  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 13:59:37.330  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "808.02ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 13:59:37.368  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 13:59:37.369  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 13:59:37.370  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:59:37.370  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:59:37.370  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:59:37.371  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 13:59:37.371  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 13:59:37.371  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 13:59:37.371  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:59:37.371  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 13:59:37.575  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 205,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:16662) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 13:59:54.535  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 13:59:54.543  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 13:59:55.185  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 13:59:55.185  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 13:59:55.187  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
ChallengeService running in development mode with real repository
2025-03-31 13:59:55.187  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 13:59:55.188  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
ChallengeService running in development mode with real repository
2025-03-31 13:59:55.188  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 13:59:55.188  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 13:59:55.191  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 13:59:55.192  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 13:59:55.192  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 13:59:55.192  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 13:59:55.193  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 13:59:55.194  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 13:59:55.194  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 13:59:55.194  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 13:59:55.568  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 13:59:55.568  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 13:59:55.568  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 13:59:55.568  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 13:59:55.568  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 13:59:55.569  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 13:59:55.569  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 13:59:55.569  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 13:59:55.569  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 13:59:55.569  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 13:59:55.569  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 13:59:55.569  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 13:59:55.569  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 13:59:55.569  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 13:59:55.588  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 13:59:55.588  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 13:59:55.589  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 13:59:55.589  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 13:59:55.589  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
2025-03-31 13:59:55.589  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 13:59:55.590  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 13:59:55.590  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 13:59:55.590  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 13:59:55.591  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 13:59:55.591  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 13:59:55.591  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 13:59:55.592  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 13:59:55.592  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 13:59:55.592  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 13:59:55.941  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 13:59:55.942  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 13:59:55.943  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:59:55.943  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:59:55.944  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:59:55.945  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 13:59:55.945  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 13:59:55.946  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 13:59:55.946  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 13:59:55.946  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 13:59:55.984  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 13:59:55.985  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "950.62ms",
  "namespace": "app:[object Object]"
}
2025-03-31 13:59:56.168  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 223,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:17784) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:00:20.124  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:00:20.131  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:00:20.709  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:00:20.710  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:00:20.713  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
ChallengeService running in development mode with real repository
2025-03-31 14:00:20.713  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:00:20.713  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
ChallengeService running in development mode with real repository
2025-03-31 14:00:20.714  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:00:20.714  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:00:20.715  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:00:20.716  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:00:20.716  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:00:20.716  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:00:20.716  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:00:20.717  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:00:20.717  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:00:20.717  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:00:21.075  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:00:21.075  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:00:21.075  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:00:21.076  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:00:21.076  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 14:00:21.077  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:00:21.077  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:00:21.077  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:00:21.077  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:00:21.077  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:00:21.077  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:00:21.077  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:00:21.077  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:00:21.077  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:00:21.267  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:00:21.275  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:00:21.278  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:00:21.278  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:00:21.294  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
2025-03-31 14:00:21.296  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:00:21.296  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:00:21.296  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:00:21.296  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
ChallengeService running in development mode with real repository
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:00:21.297  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:00:21.297  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:00:21.297  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:00:21.297  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:00:21.297  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:00:21.297  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:00:21.651  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:00:21.656  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:00:21.660  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:00:21.661  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:00:21.661  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:00:21.662  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:00:21.663  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:00:21.663  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:00:21.664  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:00:21.664  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:00:21.683  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:00:21.684  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1135.33ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:00:21.851  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 189,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:19026) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:00:33.282  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:00:33.287  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:00:33.921  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:00:33.922  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:00:33.925  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:00:33.926  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:00:33.926  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:00:33.926  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:00:33.932  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:00:33.938  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:00:33.938  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:00:33.938  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:00:33.939  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:00:33.939  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:00:33.939  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:00:33.940  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:00:33.941  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:00:33.941  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:00:33.941  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:00:34.495  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:00:34.496  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:00:34.496  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:00:34.496  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:00:34.497  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 14:00:34.510  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:00:34.510  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:00:34.510  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:00:34.510  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:00:34.510  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:00:34.510  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:00:34.510  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:00:34.511  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:00:34.511  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:00:34.524  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:00:34.525  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:00:34.525  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:00:34.525  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:00:34.525  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:00:34.526  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:00:34.527  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:00:34.531  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:00:34.532  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:00:34.532  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:00:34.532  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:00:34.533  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:00:34.533  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:00:34.533  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:00:34.533  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:00:34.533  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:00:34.533  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:00:34.533  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:00:34.899  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:00:34.901  [app] [[32MINFO[39M]: Server is running on port 3001 {
  "namespace": "app"
}
2025-03-31 14:00:34.901  [app] [[32MINFO[39M]: Environment: development {
  "namespace": "app"
}
2025-03-31 14:00:34.901  [app] [[32MINFO[39M]: API Documentation: http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:00:34.901  [app] [[32MINFO[39M]: API Tester UI: http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:00:34.902  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:00:34.902  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:00:34.902  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:00:34.903  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:00:34.903  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:00:34.903  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:00:34.903  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:00:34.904  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:00:34.905  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:00:34.906  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1204.66ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:00:35.098  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 195,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:01:34.904  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:01:34.905  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:01:34.905  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:01:34.905  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:01:35.214  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 311,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:02:33.289  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "1204.66ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 14:02:33.291  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "1204.66ms",
      "timestamp": "2025-03-31T03:00:34.906Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 14:02:34.905  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:02:34.906  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:02:34.906  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:02:34.906  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:02:35.515  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 610,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:21953) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:02:45.287  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:02:45.296  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:02:45.938  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:02:45.939  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:02:45.942  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:02:45.943  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:02:45.944  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:02:45.944  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:02:45.946  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:02:45.947  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:02:45.947  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:02:45.947  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:02:45.947  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:02:45.948  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:02:45.948  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:02:45.949  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:02:45.950  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:02:45.950  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:02:45.950  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:02:46.307  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:02:46.308  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:02:46.309  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:02:46.315  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:02:46.315  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:02:46.316  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:02:46.316  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:02:46.316  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:02:46.316  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:02:46.317  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:02:46.317  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:02:46.317  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:02:46.317  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:02:46.317  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:02:46.317  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:02:46.318  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:02:46.318  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:02:46.318  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:02:46.318  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:02:46.318  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:02:46.318  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:02:46.841  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:02:46.842  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:02:46.867  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:02:46.867  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:02:46.867  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:02:46.868  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:02:46.868  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:02:46.870  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:02:46.870  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:02:46.870  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:02:46.872  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:02:46.872  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "953.99ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:02:47.064  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 196,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:23486) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:24277) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:03:12.131  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:03:12.140  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:03:13.105  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:03:13.106  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:03:13.108  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:03:13.108  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:03:13.109  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:03:13.109  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:03:13.110  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:03:13.124  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:03:13.125  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:03:13.125  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:03:13.125  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:03:13.125  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:03:13.125  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:03:13.126  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:03:13.131  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:03:13.133  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:03:13.133  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:03:13.513  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:03:13.513  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:03:13.514  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:03:13.514  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:03:13.514  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 14:03:13.593  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:03:13.594  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:03:13.594  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:03:13.594  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:03:13.594  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:03:13.594  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:03:13.594  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:03:13.594  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:03:13.594  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:03:13.660  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:03:13.661  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:03:13.661  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:03:13.661  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:03:13.661  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:03:13.663  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:03:13.664  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:03:13.664  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:03:13.665  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:03:13.665  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:03:13.665  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:03:13.665  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:03:13.665  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:03:13.665  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:03:13.665  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:03:13.665  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:03:13.666  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:03:13.666  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:03:14.254  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:03:14.255  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:03:14.255  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:14.256  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:14.256  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:14.256  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:03:14.256  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:03:14.256  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:03:14.256  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:14.256  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:03:14.461  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 205,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:15.000  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:03:15.000  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1989.28ms",
  "namespace": "app:[object Object]"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:25401) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:03:25.307  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:03:25.348  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:03:26.068  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:03:26.068  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:03:26.070  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:03:26.072  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:03:26.073  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:03:26.073  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:03:26.077  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:03:26.078  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:03:26.078  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:03:26.078  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:03:26.078  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:03:26.079  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:03:26.080  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:03:26.081  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:03:26.082  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:03:26.082  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:03:26.082  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:03:26.598  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:03:26.598  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:03:26.598  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:03:26.599  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:03:26.599  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:03:26.609  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:03:26.609  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:03:26.609  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:03:26.609  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:03:26.610  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:03:26.610  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:03:26.612  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:03:26.612  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:03:26.612  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:03:26.613  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:03:26.613  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:03:26.613  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:03:26.613  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:03:26.613  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:03:26.613  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:03:26.613  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:03:26.613  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:03:26.613  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:03:27.072  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:03:27.072  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1033.71ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:03:27.077  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:03:27.088  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:03:27.104  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:27.104  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:27.104  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:27.105  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:03:27.105  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:03:27.105  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:03:27.105  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:27.105  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:03:27.340  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 235,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:26633) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:03:48.527  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:03:48.533  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:03:49.464  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:03:49.465  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:03:49.466  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:03:49.467  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:03:49.467  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:03:49.467  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:03:49.468  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:03:49.469  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:03:49.469  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:03:49.469  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:03:49.469  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:03:49.470  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:03:49.470  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:03:49.470  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:03:49.471  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:03:49.471  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:03:49.471  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:03:49.988  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:03:49.988  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:03:49.988  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:03:49.988  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:03:49.988  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 14:03:49.989  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:03:49.989  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:03:49.989  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:03:49.989  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:03:49.989  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:03:49.989  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:03:49.989  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:03:49.989  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:03:49.989  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:03:50.041  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:03:50.048  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:03:50.067  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:03:50.067  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:03:50.172  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:03:50.172  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:03:50.185  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:03:50.186  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:03:50.186  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:03:50.186  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:03:50.188  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:03:50.188  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:03:50.190  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:03:50.190  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:03:50.190  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:03:50.190  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:03:50.190  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:03:50.190  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:03:50.457  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:03:50.458  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:03:50.466  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:50.466  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:50.466  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:50.468  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:03:50.468  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:03:50.468  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:03:50.469  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:03:50.469  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:03:50.477  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:03:50.479  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1328.33ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:03:50.664  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 198,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:27626) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:04:02.516  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:04:02.540  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:04:03.333  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:04:03.333  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:04:03.335  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:04:03.341  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:04:03.342  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:04:03.342  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:04:03.344  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:04:03.345  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:04:03.346  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:04:03.346  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:04:03.347  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:04:03.348  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:04:03.348  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:04:03.348  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:04:03.364  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:04:03.365  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:04:03.365  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:04:03.843  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:04:03.843  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:04:03.844  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:04:03.844  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:04:03.844  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 14:04:03.845  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:04:03.845  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:04:03.845  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:04:03.845  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:04:03.845  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:04:03.845  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:04:03.845  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:04:03.845  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:04:03.845  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:04:03.852  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:04:03.853  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:04:03.853  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:04:03.854  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:04:03.854  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:04:03.854  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:04:03.855  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:04:03.855  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:04:03.855  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:04:03.855  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:04:03.856  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:04:03.856  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:04:03.856  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:04:03.856  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:04:03.856  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:04:03.856  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:04:03.856  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:04:03.856  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:04:04.241  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:04:04.243  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:04:04.244  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:04:04.244  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1082.62ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:04:04.245  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:04:04.245  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:04:04.245  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:04:04.245  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:04:04.245  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:04:04.245  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:04:04.245  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:04:04.245  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:04:04.414  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 169,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:28657) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:04:16.708  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:04:16.718  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:04:17.423  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:04:17.424  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:04:17.429  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:04:17.430  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:04:17.430  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:04:17.431  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:04:17.567  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:04:17.601  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:04:17.618  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:04:17.624  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:04:17.624  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:04:17.631  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:04:17.633  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:04:17.644  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:04:17.645  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:04:17.648  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:04:17.650  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:04:18.189  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:04:18.189  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:04:18.190  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:04:18.190  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:04:18.190  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Invalid userController, creating fallback router
2025-03-31 14:04:18.196  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:04:18.196  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:04:18.196  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:04:18.196  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:04:18.196  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:04:18.196  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:04:18.197  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:04:18.197  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:04:18.197  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:04:18.370  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:04:18.371  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:04:18.371  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:04:18.371  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:04:18.372  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:04:18.372  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:04:18.373  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:04:18.374  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:04:18.374  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:04:18.375  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:04:18.375  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:04:18.376  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:04:18.377  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:04:18.377  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:04:18.377  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:04:18.378  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:04:18.378  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:04:18.378  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:04:18.707  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:04:18.707  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1489.90ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:04:18.720  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:04:18.725  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:04:18.726  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:04:18.726  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:04:18.726  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:04:18.727  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:04:18.727  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:04:18.728  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:04:18.728  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:04:18.728  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:04:18.941  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 215,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:05:18.728  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:05:18.729  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:05:18.729  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:05:18.729  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:05:19.153  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 425,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:06:16.720  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "1489.90ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 14:06:16.723  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "1489.90ms",
      "timestamp": "2025-03-31T03:04:18.707Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 14:06:18.730  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:06:18.731  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:06:18.731  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:06:18.731  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:06:19.195  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 465,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:32891) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:33515) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:07:26.543  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:07:26.567  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:35069) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:35943) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:07:47.019  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:07:47.094  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:07:51.541  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:07:51.566  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:07:51.623  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:07:51.656  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:07:51.658  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:07:51.658  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:07:51.664  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:07:51.672  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:07:51.672  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:07:51.673  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:07:51.673  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:07:51.673  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:07:51.673  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:07:51.674  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:07:51.676  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:07:51.676  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:07:51.676  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:07:53.597  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:07:53.597  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:07:53.598  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:07:53.598  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:07:53.598  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:07:53.600  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:07:53.600  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:07:53.600  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:07:53.600  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:07:53.601  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:07:53.601  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:07:53.601  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:07:53.601  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Creating real user routes
2025-03-31 14:07:53.702  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:07:54.045  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:07:54.046  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:07:54.046  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:07:54.047  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:07:54.047  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:07:54.047  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:07:54.203  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:07:54.215  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:07:54.234  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:07:54.235  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:07:54.257  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:07:54.275  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:07:54.301  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:07:54.301  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:07:54.302  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:07:54.302  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:07:54.302  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:07:54.302  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:07:54.601  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:07:54.623  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:07:54.658  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:07:54.662  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:07:54.663  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:07:54.664  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:07:54.673  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:07:54.675  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:07:54.675  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:07:54.676  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:07:54.680  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:07:54.681  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "3811.21ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:07:54.942  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 279,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:37730) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:38762) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:08:24.713  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:08:24.833  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:08:29.409  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:08:29.428  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:08:29.677  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:08:29.678  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:08:29.681  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:08:29.681  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:08:29.684  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:08:29.690  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:08:29.691  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:08:29.691  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:08:29.695  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:08:29.697  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:08:29.697  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:08:29.702  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:08:29.710  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:08:29.713  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:08:29.714  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:40006) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:08:39.126  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:08:39.244  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:08:40.577  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:08:40.579  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:08:40.583  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:08:40.585  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:08:40.585  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:08:40.586  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:08:40.588  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:08:40.589  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:08:40.589  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:08:40.589  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:08:40.590  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:08:40.590  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:08:40.590  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:08:40.591  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:08:40.592  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:08:40.592  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:08:40.593  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:08:42.698  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:08:42.699  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:08:42.735  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:08:42.736  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:08:42.754  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:08:42.756  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:08:42.756  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:08:42.756  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:08:42.756  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:08:42.756  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:08:42.756  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:08:42.756  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:08:42.756  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:08:42.757  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:382:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:125:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:08:42.851  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:08:42.853  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:08:42.853  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:08:42.853  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:08:42.854  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:08:42.854  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:08:42.856  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:08:42.856  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:08:42.857  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:08:42.857  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:08:42.858  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:08:42.858  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:08:42.858  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:08:42.859  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:08:42.859  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:08:42.859  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:08:42.859  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:08:42.859  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:08:43.406  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:08:43.406  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "2962.37ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:08:43.408  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:08:43.411  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:08:43.412  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:08:43.412  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:08:43.412  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:08:43.414  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:08:43.414  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:08:43.415  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:08:43.415  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:08:43.416  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:08:43.588  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 175,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:41197) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:09:04.773  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:09:04.805  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:09:06.454  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:09:06.455  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:09:06.458  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:09:06.459  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:09:06.460  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:09:06.461  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:09:06.463  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:09:06.463  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:09:06.464  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:09:06.464  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:09:06.464  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:09:06.465  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:09:06.465  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:09:06.466  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:09:06.469  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:09:06.473  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:09:06.473  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:09:07.615  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:09:07.615  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:09:07.616  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:09:07.616  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:09:07.616  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:09:07.618  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:09:07.618  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:09:07.618  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:09:07.619  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:09:07.619  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:09:07.619  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:09:07.619  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:09:07.620  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:09:07.620  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:383:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:126:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
Created basic mock auth router for development
2025-03-31 14:09:07.764  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:09:07.783  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:09:07.783  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:09:07.783  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:09:07.784  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:09:07.784  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:09:07.785  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:09:07.785  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:09:07.786  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:09:07.790  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:09:07.799  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:09:07.800  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:09:07.800  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:09:07.806  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:09:07.806  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:09:07.806  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:09:07.806  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:09:07.806  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:09:08.024  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:09:08.025  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1974.29ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:09:08.026  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:09:08.027  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:09:08.028  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:09:08.029  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:09:08.029  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:09:08.030  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:09:08.030  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:09:08.030  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:09:08.030  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:09:08.031  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:09:08.222  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 191,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:42391) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:09:25.301  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:09:25.368  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:09:28.696  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:09:28.697  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:09:28.709  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:09:28.714  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:09:28.717  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:09:28.717  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:09:28.725  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:09:28.732  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:09:28.733  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:09:28.733  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:09:28.733  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:09:28.734  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:09:28.734  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:09:28.737  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:09:28.739  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:09:28.740  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:09:28.740  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:09:31.218  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:09:31.235  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:09:31.236  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:09:31.236  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:09:31.237  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:09:31.242  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:09:31.243  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:09:31.243  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:09:31.243  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:09:31.243  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:09:31.243  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:09:31.243  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:09:31.243  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:09:31.254  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:378:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:126:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:09:31.262  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:09:31.294  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:09:31.294  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:09:31.295  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:09:31.304  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:09:31.307  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:09:31.310  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:09:31.313  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:09:31.316  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:09:31.321  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:09:31.328  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:09:31.329  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:09:31.330  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:09:31.332  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:09:31.333  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:09:31.333  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:09:31.334  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:09:31.334  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:09:31.904  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:09:31.920  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:09:31.922  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:09:31.923  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:09:31.923  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:09:31.925  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:09:31.925  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:09:31.926  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:09:31.926  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:09:31.926  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:09:31.954  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:09:31.954  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "3754.63ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:09:32.180  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 256,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:44193) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:10:04.904  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:10:04.958  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:10:05.856  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:10:05.857  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:10:05.860  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:10:05.861  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:10:05.861  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:10:05.861  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:10:05.864  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:10:05.915  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:10:05.920  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:10:05.924  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:10:05.924  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:10:05.925  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:10:05.925  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:10:05.942  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:10:05.946  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:10:05.946  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:10:05.947  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:10:05.966  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:10:05.970  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:10:05.971  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:10:08.015  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:10:08.016  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:10:08.016  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:10:08.016  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:10:08.017  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:10:08.021  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
2025-03-31 14:10:08.022  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:10:08.025  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:10:08.025  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:10:08.026  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:10:08.026  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:10:08.026  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:10:08.026  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:10:08.026  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:10:08.027  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:378:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:126:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:10:08.031  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:10:08.032  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:10:08.032  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:10:08.032  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:10:08.033  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:10:08.033  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:10:08.035  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:10:08.035  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:10:08.036  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:10:08.036  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:10:08.037  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:10:08.037  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:10:08.038  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:10:08.038  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:10:08.038  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:10:08.038  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:10:08.039  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:10:08.039  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:10:08.437  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:10:08.438  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "2702.90ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:10:08.439  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:10:08.441  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:10:08.442  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:10:08.443  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:10:08.443  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:10:08.446  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:10:08.446  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:10:08.446  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:10:08.447  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:10:08.447  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:10:08.641  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 196,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:11:08.447  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:11:08.448  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:11:08.448  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:11:08.448  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:11:08.742  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 295,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:46900) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:11:49.501  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:11:49.574  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:11:50.596  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:11:50.597  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:11:50.600  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:11:50.742  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:11:50.767  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:11:50.768  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:11:50.779  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:11:50.782  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:11:50.782  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:11:50.783  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:11:50.783  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:11:50.783  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:11:50.783  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:11:50.783  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:11:50.784  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:11:50.784  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:11:50.785  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:11:50.786  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:11:50.786  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:11:50.786  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:11:51.478  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:11:51.478  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:11:51.478  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:11:51.478  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:11:51.478  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:11:51.479  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
2025-03-31 14:11:51.479  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:11:51.479  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:11:51.479  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:11:51.479  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:11:51.480  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:11:51.480  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:11:51.480  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:11:51.480  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:11:51.481  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:378:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:126:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:11:51.482  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:11:51.482  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:11:51.482  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:11:51.482  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:11:51.482  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:11:51.482  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:11:51.483  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:11:51.484  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:11:51.484  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:11:51.484  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:11:51.485  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:11:51.485  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:11:51.516  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:11:51.551  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:11:51.551  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:11:51.551  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:11:51.551  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:11:51.551  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:11:51.889  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:11:51.891  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:11:51.892  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:11:51.892  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1381.36ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:11:51.901  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:11:51.902  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:11:51.902  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:11:51.904  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:11:51.904  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:11:51.904  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:11:51.905  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:11:51.905  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:11:52.072  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 169,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:48081) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:12:14.218  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:12:14.311  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:12:15.229  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:12:15.230  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:12:15.247  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:12:15.248  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:12:15.249  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:12:15.249  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:12:15.251  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:12:15.255  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:12:15.255  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:12:15.256  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:12:15.256  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:12:15.256  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:12:15.256  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:12:15.256  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:12:15.256  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:12:15.256  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:12:15.258  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:12:15.260  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:12:15.260  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:12:15.261  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:12:17.561  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:12:17.562  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:12:17.562  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:12:17.562  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:12:17.562  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:12:17.563  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
2025-03-31 14:12:17.563  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:12:17.569  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:12:17.573  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:12:17.573  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:12:17.573  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:12:17.573  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:12:17.573  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:12:17.574  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:12:17.574  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:378:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:126:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:12:17.578  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:12:17.579  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:12:17.579  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:12:17.579  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:12:17.583  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:12:17.584  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:12:17.593  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:12:17.602  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:12:17.602  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:12:17.603  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:12:17.615  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:12:17.615  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:12:17.615  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:12:17.615  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:12:17.615  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:12:17.616  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:12:17.616  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:12:17.616  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:12:18.007  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:12:18.009  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "3011.22ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:12:18.011  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:12:18.014  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:12:18.028  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:12:18.028  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:12:18.029  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:12:18.029  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:12:18.030  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:12:18.030  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:12:18.031  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:12:18.032  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:12:18.214  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 185,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:13:18.031  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:13:18.032  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:13:18.032  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:13:18.033  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:13:18.341  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 310,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:14:14.292  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "3011.22ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 14:14:14.293  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "3011.22ms",
      "timestamp": "2025-03-31T03:12:18.009Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 14:14:18.033  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:14:18.034  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:14:18.034  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:14:18.034  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:14:18.355  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 322,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:51566) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:15:02.769  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:15:02.775  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:15:03.568  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:15:03.568  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:15:03.595  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:15:03.601  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:15:03.652  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:15:03.653  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:15:03.656  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:15:03.657  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:15:03.657  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:15:03.657  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:15:03.658  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:15:03.658  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:15:03.658  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:15:03.658  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:15:03.659  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:15:03.659  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:15:03.660  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:15:03.661  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:15:03.662  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:15:03.662  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:15:04.268  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:15:04.268  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:15:04.268  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:15:04.268  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:15:04.268  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:15:04.269  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
2025-03-31 14:15:04.269  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:15:04.270  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:15:04.270  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:15:04.270  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:15:04.270  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:15:04.270  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:15:04.270  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:15:04.270  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:15:04.271  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:378:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:126:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:15:04.271  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:15:04.272  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:15:04.272  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:15:04.272  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:15:04.272  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:15:04.272  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:15:04.273  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:15:04.273  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:15:04.273  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:15:04.273  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:15:04.273  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:15:04.273  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:15:04.273  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:15:04.274  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:15:04.274  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:15:04.274  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:15:04.274  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:15:04.274  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:15:04.652  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:15:04.653  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:15:04.655  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:15:04.655  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1398.55ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:15:04.656  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:15:04.656  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:15:04.656  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:15:04.657  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:15:04.657  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:15:04.657  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:15:04.657  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:15:04.658  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:15:04.847  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 191,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:52659) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:15:15.580  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:15:15.747  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:15:17.152  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:15:17.152  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:15:17.155  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:15:17.156  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:15:17.156  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:15:17.156  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:15:17.157  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:15:17.157  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:15:17.157  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:15:17.157  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:15:17.157  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:15:17.158  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:15:17.158  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:15:17.158  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:15:17.158  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:15:17.158  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:15:17.158  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:15:17.159  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:15:17.159  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:15:17.159  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:15:17.909  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:15:17.911  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:15:17.911  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:15:17.911  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:15:17.911  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:15:17.912  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
2025-03-31 14:15:17.912  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:15:17.913  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:15:17.913  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:15:17.913  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:15:17.913  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:15:17.913  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:15:17.913  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:15:17.913  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:15:17.914  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:378:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:126:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:15:17.915  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:15:17.915  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:15:17.915  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:15:17.916  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:15:17.916  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:15:17.916  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:15:17.917  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:15:17.917  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:15:17.918  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:15:17.918  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:15:17.918  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:15:17.918  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:15:17.918  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:15:17.918  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:15:17.918  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:15:17.918  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:15:17.918  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:15:17.918  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:15:18.299  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:15:18.299  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1175.48ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:15:18.300  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:15:18.303  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:15:18.304  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:15:18.305  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:15:18.305  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:15:18.305  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:15:18.306  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:15:18.306  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:15:18.307  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:15:18.307  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:15:18.510  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 205,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:16:18.308  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:16:18.310  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:16:18.310  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:16:18.310  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:16:18.590  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 283,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:54865) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:16:39.622  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:16:39.629  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:16:40.607  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:16:40.607  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:16:40.610  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:16:40.612  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:16:40.612  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:16:40.612  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:16:40.614  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:16:40.615  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:16:40.616  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:16:40.616  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:16:40.616  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:16:40.616  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:16:40.616  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:16:40.616  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:16:40.616  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:16:40.617  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:16:40.617  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:16:40.618  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:16:40.618  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:16:40.618  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:16:41.095  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:16:41.178  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:16:41.179  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:16:41.179  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:16:41.179  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Starting to create user routes...
Getting userController from container...
2025-03-31 14:16:41.180  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Stack trace: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
2025-03-31 14:16:41.181  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:16:41.181  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:16:41.181  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:16:41.181  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:16:41.187  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:16:41.187  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:16:41.188  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:16:41.188  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:16:41.189  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:378:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:126:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:16:41.189  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:16:41.190  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:16:41.190  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:16:41.190  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:16:41.190  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:16:41.190  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:16:41.191  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:16:41.191  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:16:41.191  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:16:41.191  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:16:41.194  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:16:41.194  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:16:41.194  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:16:41.194  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:16:41.195  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:16:41.195  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:16:41.195  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:16:41.195  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:16:41.540  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:16:41.543  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:16:41.545  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:16:41.546  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:16:41.546  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:16:41.546  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:16:41.546  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:16:41.546  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:16:41.546  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:16:41.547  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:16:41.616  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:16:41.617  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1069.74ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:16:41.718  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 172,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:17:41.548  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:17:41.549  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:17:41.549  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:17:41.549  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:17:41.848  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 301,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:57925) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:18:41.028  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:18:41.037  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:18:41.843  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:18:41.844  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:18:41.861  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:18:41.863  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:18:41.864  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:18:41.864  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:18:41.866  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:18:41.867  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:18:41.867  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:18:41.867  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:18:41.867  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:18:41.868  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:18:41.868  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:18:41.868  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:18:41.868  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:18:41.868  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:18:41.869  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:18:41.871  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:18:41.871  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:18:41.871  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:18:42.484  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:18:42.484  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:18:42.485  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:18:42.485  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:18:42.485  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Starting to create user routes...
Getting userController from container...
2025-03-31 14:18:42.492  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Stack trace: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
2025-03-31 14:18:42.493  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:18:42.493  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:18:42.493  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:18:42.493  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:18:42.493  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:18:42.493  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:18:42.493  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:18:42.496  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:18:42.497  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:378:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:126:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:18:42.498  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:18:42.499  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:18:42.502  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:18:42.502  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:18:42.502  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:18:42.503  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:18:42.534  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:18:42.534  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:18:42.534  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:18:42.535  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:18:42.535  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:18:42.535  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:18:42.535  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:18:42.535  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:18:42.536  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:18:42.536  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:18:42.536  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:18:42.536  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:18:42.857  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:18:42.859  [app] [[32MINFO[39M]: Server is running on port 3001 {
  "namespace": "app"
}
2025-03-31 14:18:42.860  [app] [[32MINFO[39M]: Environment: development {
  "namespace": "app"
}
2025-03-31 14:18:42.860  [app] [[32MINFO[39M]: API Documentation: http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:18:42.860  [app] [[32MINFO[39M]: API Tester UI: http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:18:42.861  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:18:42.861  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1270.96ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:18:42.862  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:18:42.862  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:18:42.863  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:18:42.863  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:18:42.863  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:18:42.863  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:18:42.864  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:18:42.864  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:18:43.029  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 166,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:58937) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:18:51.989  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:18:52.009  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:18:52.908  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:18:52.910  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:18:52.914  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:18:52.915  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:18:52.917  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:18:52.918  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:18:52.920  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:18:52.927  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:18:52.928  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:18:52.928  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:18:52.928  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:18:52.928  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:18:52.928  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:18:52.929  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:18:52.929  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:18:52.929  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:18:52.930  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:18:52.931  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:18:52.931  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:18:52.931  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:18:53.327  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:18:53.328  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:18:53.328  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:18:53.328  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:18:53.328  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Starting to create user routes...
Getting userController from container...
2025-03-31 14:18:53.329  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Stack trace: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
2025-03-31 14:18:53.391  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:18:53.391  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:18:53.391  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:18:53.391  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:18:53.391  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:18:53.391  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:18:53.391  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:18:53.391  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:18:53.392  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:379:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:127:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:18:53.393  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:18:53.393  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:18:53.423  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:18:53.423  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:18:53.427  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:18:53.437  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:18:53.442  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:18:53.445  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:18:53.446  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:18:53.446  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:18:53.449  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:18:53.450  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:18:53.451  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:18:53.451  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:18:53.451  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:18:53.451  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:18:53.451  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:18:53.451  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:18:53.783  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:18:53.789  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:18:53.790  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:18:53.790  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:18:53.790  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:18:53.791  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:18:53.791  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:18:53.791  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:18:53.792  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:18:53.792  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:18:53.794  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:18:53.795  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1023.71ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:18:53.974  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 184,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:19:53.794  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:19:53.796  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:19:53.796  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:19:53.796  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:19:54.130  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 337,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:61193) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:20:15.087  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:20:15.106  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:20:16.006  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:20:16.007  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:20:16.010  [system] [[33MWARN[39M]: Sentry DSN not provided - monitoring disabled {
  "namespace": "system"
}
2025-03-31 14:20:16.011  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:20:16.011  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:20:16.011  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:20:16.012  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:20:16.013  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:20:16.013  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:20:16.013  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:20:16.013  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:20:16.013  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:20:16.013  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:20:16.014  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:20:16.014  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:20:16.014  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:20:16.014  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:20:16.032  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:20:16.032  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:20:16.032  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:20:18.239  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:20:18.256  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:20:18.257  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:20:18.257  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:20:18.262  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Starting to create user routes...
Getting userController from container...
2025-03-31 14:20:18.281  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Stack trace: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Creating development fallback for user routes
2025-03-31 14:20:18.287  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:20:18.287  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:20:18.287  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:20:18.287  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:20:18.287  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:20:18.287  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:20:18.287  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:20:18.288  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:20:18.298  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:379:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:127:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:20:18.302  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:20:18.303  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:20:18.303  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:20:18.304  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:20:18.304  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:20:18.305  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:20:18.310  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:20:18.312  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:20:18.313  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:20:18.314  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:20:18.318  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:20:18.320  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:20:18.420  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:20:18.421  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:20:18.421  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:20:18.421  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:20:18.421  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:20:18.421  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:20:19.021  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:20:19.022  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "3109.01ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:20:19.084  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:20:19.087  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:20:19.090  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:20:19.092  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:20:19.092  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:20:19.093  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:20:19.093  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:20:19.093  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:20:19.093  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:20:19.094  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:20:19.307  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 215,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:21:19.095  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:21:19.096  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:21:19.096  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:21:19.096  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:21:19.403  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 309,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:22:15.097  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "3109.01ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 14:22:15.099  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "3109.01ms",
      "timestamp": "2025-03-31T03:20:19.021Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 14:22:19.096  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:22:19.096  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:22:19.097  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:22:19.097  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:22:19.402  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 306,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:23:19.098  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:23:19.100  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:23:19.101  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:23:19.101  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:23:19.445  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 348,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:24:19.099  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:24:19.101  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:24:19.101  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:24:19.101  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:24:19.390  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 291,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:25:19.101  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:25:19.102  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:25:19.102  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:25:19.102  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:25:19.431  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 331,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:26:19.113  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:26:19.115  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:26:19.115  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:26:19.115  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:26:19.396  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 284,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:69195) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:69914) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:27:09.785  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:27:09.795  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:27:10.295  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:27:10.296  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:27:10.299  [system] [[32MINFO[39M]: Sentry disabled in development environment {
  "namespace": "system"
}
2025-03-31 14:27:10.300  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:27:10.300  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:27:10.301  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:27:10.302  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:27:10.306  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:27:10.307  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:27:10.308  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:27:10.308  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:27:10.308  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:27:10.308  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:27:10.309  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:27:10.309  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:27:10.309  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:27:10.310  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:27:10.318  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:27:10.319  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:27:10.320  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:27:10.992  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:27:10.992  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:27:10.992  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:27:10.992  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:27:10.993  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Starting to create user routes...
Getting userController from container...
2025-03-31 14:27:10.993  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Stack trace: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Creating development fallback for user routes
2025-03-31 14:27:10.998  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:27:10.998  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:27:10.998  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:27:10.998  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:27:10.998  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:27:11.004  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:27:11.005  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:27:11.037  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:27:11.079  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:379:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:127:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:153:3)
2025-03-31 14:27:11.080  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:27:11.081  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:27:11.081  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:27:11.081  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:27:11.081  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:27:11.081  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:27:11.082  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:27:11.082  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:27:11.082  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:27:11.082  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:27:11.083  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:27:11.083  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:27:11.084  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:27:11.084  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:27:11.084  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:27:11.084  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:27:11.084  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:27:11.084  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:27:11.438  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:27:11.451  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1349.22ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:27:11.452  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:27:11.456  [app] [[32MINFO[39M]: Server is running on port 3001 {
  "namespace": "app"
}
2025-03-31 14:27:11.457  [app] [[32MINFO[39M]: Environment: development {
  "namespace": "app"
}
2025-03-31 14:27:11.457  [app] [[32MINFO[39M]: API Documentation: http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:27:11.457  [app] [[32MINFO[39M]: API Tester UI: http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:27:11.461  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:27:11.461  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:27:11.461  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:27:11.462  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:27:11.463  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:27:11.463  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:27:11.463  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:27:11.463  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:27:11.656  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 194,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:71067) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:27:29.404  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:27:29.415  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:27:30.156  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:27:30.157  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:27:30.158  [system] [[32MINFO[39M]: Sentry disabled in development environment {
  "namespace": "system"
}
2025-03-31 14:27:30.159  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:27:30.159  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:27:30.159  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:27:30.160  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:27:30.160  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:27:30.160  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:27:30.165  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:27:30.165  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:27:30.165  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:27:30.165  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:27:30.170  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:27:30.171  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:27:30.299  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:27:30.300  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:27:30.302  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:27:30.303  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:27:30.303  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:27:30.865  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:27:30.865  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:27:30.865  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:27:30.865  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:27:30.865  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:27:30.865  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Starting to create user routes...
Getting userController from container...
2025-03-31 14:27:30.866  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Stack trace: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Creating development fallback for user routes
2025-03-31 14:27:30.867  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:27:30.867  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:27:30.867  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:27:30.867  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:27:30.867  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:27:30.867  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:27:30.867  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:27:30.867  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:27:30.868  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:379:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:127:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:159:3)
2025-03-31 14:27:30.868  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:27:30.868  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:27:30.868  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:27:30.868  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:27:30.869  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:27:30.869  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:27:30.869  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:27:30.869  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:27:30.870  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:27:30.870  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:27:30.870  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:27:30.870  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:27:30.870  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:27:30.870  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:27:30.871  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:27:30.871  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:27:30.871  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:27:30.871  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:27:31.256  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:27:31.257  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1359.09ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:27:31.258  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:27:31.259  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:27:31.262  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:27:31.262  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:27:31.262  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:27:31.263  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:27:31.263  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:27:31.263  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:27:31.265  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:27:31.265  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:27:31.447  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 184,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:72339) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:73265) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:28:00.292  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:28:00.305  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:28:01.112  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:28:01.113  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:28:01.115  [system] [[32MINFO[39M]: Sentry disabled in development environment {
  "namespace": "system"
}
2025-03-31 14:28:01.116  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:28:01.117  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:28:01.117  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:28:01.119  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:28:01.120  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:28:01.120  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:28:01.120  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:28:01.120  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:28:01.120  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:28:01.120  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:28:01.121  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:28:01.121  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:28:01.121  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:28:01.122  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 14:28:01.123  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:28:01.123  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:28:01.123  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:28:01.524  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:28:01.525  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:28:01.525  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:28:01.525  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:28:01.525  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:28:01.525  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Starting to create user routes...
Getting userController from container...
2025-03-31 14:28:01.525  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Stack trace: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Creating development fallback for user routes
2025-03-31 14:28:01.528  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:28:01.528  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:28:01.528  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:28:01.528  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:28:01.529  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:28:01.529  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:28:01.529  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:28:01.529  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:28:01.529  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:379:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:127:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:159:3)
2025-03-31 14:28:01.529  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:28:01.530  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:28:01.530  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:28:01.530  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:28:01.530  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:28:01.530  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:28:01.531  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:28:01.531  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:28:01.531  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:28:01.531  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:28:01.531  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:28:01.531  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:28:01.531  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:28:01.531  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:28:01.532  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:28:01.532  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:28:01.532  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:28:01.532  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:28:01.903  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:28:01.904  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "988.97ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:28:01.906  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:28:01.908  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:28:01.909  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:28:01.909  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:28:01.909  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:28:01.910  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:28:01.910  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:28:01.910  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:28:01.910  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:28:01.910  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:28:02.065  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 156,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:29:01.911  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:29:01.912  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:29:01.913  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:29:01.913  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 14:29:02.200  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 289,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:75757) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:76730) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
2025-03-31 14:29:51.508  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:29:51.521  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:29:52.310  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:29:52.311  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:29:52.405  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:29:52.406  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:29:52.406  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:29:52.406  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:29:52.408  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:29:52.408  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:29:52.408  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:29:52.408  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:29:52.408  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:29:52.409  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:29:52.409  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:29:52.409  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:29:52.409  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:29:52.409  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
TypeError: Cannot read properties of undefined (reading 'requestHandler')
    at createSentryMiddleware (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/monitoring/sentry.js:158:37)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:75:26
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:77312) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)

node:internal/modules/run_main:104
    triggerUncaughtException(
    ^
Error [ERR_MODULE_NOT_FOUND]: Cannot find package '@sentry/profiling-node' imported from /Users/gsplace/ai back end game/packages/api/src/core/infra/monitoring/instrument.js
    at Object.getPackageJSONURL (node:internal/modules/package_json_reader:267:9)
    at packageResolve (node:internal/modules/esm/resolve:768:81)
    at moduleResolve (node:internal/modules/esm/resolve:854:18)
    at defaultResolve (node:internal/modules/esm/resolve:984:11)
    at nextResolve (node:internal/modules/esm/hooks:748:28)
    at resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/importResolver.mjs:16:10)
    at nextResolve (node:internal/modules/esm/hooks:748:28)
    at Hooks.resolve (node:internal/modules/esm/hooks:240:30)
    at handleMessage (node:internal/modules/esm/worker:199:24)
    at checkForMessages (node:internal/modules/esm/worker:141:28) {
  code: 'ERR_MODULE_NOT_FOUND'
}

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:81420) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 14:33:25.226  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:33:25.349  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:33:27.531  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:33:27.532  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:33:27.599  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:33:27.601  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:33:27.601  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:33:27.602  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:33:27.605  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:33:27.606  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:33:27.607  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:33:27.607  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:33:27.607  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:33:27.607  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:33:27.608  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:33:27.608  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:33:27.608  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:33:27.609  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:33:27.706  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:33:27.772  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:33:27.772  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:33:28.770  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:33:28.771  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:33:28.771  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:33:28.778  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:33:28.779  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:33:28.807  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
Starting to create user routes...
Getting userController from container...
2025-03-31 14:33:28.844  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user routes: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Stack trace: Error: eventBus is required for FocusAreaGenerationCoordinator
    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)
    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)
    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)
    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)
    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)
Creating development fallback for user routes
2025-03-31 14:33:28.974  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:33:28.974  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:33:28.974  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:33:28.975  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:33:28.975  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:33:28.975  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:33:28.975  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:33:28.975  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
2025-03-31 14:33:28.981  [app] [[32MINFO[39M]: Mounted route: /api/v1/users {
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
Critical error creating auth routes: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at RouteFactory.createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:379:28)
    at RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:127:51)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:159:3)
2025-03-31 14:33:29.029  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:33:29.029  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:33:29.036  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:33:29.207  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:33:29.229  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:33:29.305  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:33:29.898  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:33:29.899  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:33:29.926  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:33:29.933  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:33:29.944  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:33:29.944  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:33:29.945  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:33:29.945  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:33:29.945  [app] [[32MINFO[39M]: All routes successfully mounted at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:33:29.945  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:33:29.945  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:33:29.945  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:33:31.163  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:33:31.262  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:33:31.322  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:33:31.325  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:33:31.334  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:33:31.336  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:33:31.336  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:33:31.336  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:33:31.465  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:33:31.465  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "4628.31ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:33:31.697  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 362,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:82780) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/errors/ErrorHandler.js:316
export { notFoundHandler };
         ^^^^^^^^^^^^^^^

SyntaxError: Duplicate export of 'notFoundHandler'
    at compileSourceTextModule (node:internal/modules/esm/utils:344:16)
    at ModuleLoader.moduleStrategy (node:internal/modules/esm/translators:106:18)
    at #translate (node:internal/modules/esm/loader:534:12)
    at ModuleLoader.loadAndTranslate (node:internal/modules/esm/loader:581:27)

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:83238) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/errors/ErrorHandler.js:316
export { notFoundHandler };
         ^^^^^^^^^^^^^^^

SyntaxError: Duplicate export of 'notFoundHandler'
    at compileSourceTextModule (node:internal/modules/esm/utils:344:16)
    at ModuleLoader.moduleStrategy (node:internal/modules/esm/translators:106:18)
    at #translate (node:internal/modules/esm/loader:534:12)
    at ModuleLoader.loadAndTranslate (node:internal/modules/esm/loader:581:27)

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:84620) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/errors/ErrorHandler.js:316
export { notFoundHandler };
         ^^^^^^^^^^^^^^^

SyntaxError: Duplicate export of 'notFoundHandler'
    at compileSourceTextModule (node:internal/modules/esm/utils:344:16)
    at ModuleLoader.moduleStrategy (node:internal/modules/esm/translators:106:18)
    at #translate (node:internal/modules/esm/loader:534:12)
    at ModuleLoader.loadAndTranslate (node:internal/modules/esm/loader:581:27)

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:85769) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/errors/ErrorHandler.js:316
export { notFoundHandler };
         ^^^^^^^^^^^^^^^

SyntaxError: Duplicate export of 'notFoundHandler'
    at compileSourceTextModule (node:internal/modules/esm/utils:344:16)
    at ModuleLoader.moduleStrategy (node:internal/modules/esm/translators:106:18)
    at #translate (node:internal/modules/esm/loader:534:12)
    at ModuleLoader.loadAndTranslate (node:internal/modules/esm/loader:581:27)

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:86422) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/errors/ErrorHandler.js:316
export { notFoundHandler };
         ^^^^^^^^^^^^^^^

SyntaxError: Duplicate export of 'notFoundHandler'
    at compileSourceTextModule (node:internal/modules/esm/utils:344:16)
    at ModuleLoader.moduleStrategy (node:internal/modules/esm/translators:106:18)
    at #translate (node:internal/modules/esm/loader:534:12)
    at ModuleLoader.loadAndTranslate (node:internal/modules/esm/loader:581:27)

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:87190) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/errors/ErrorHandler.js:347
export { notFoundHandler };
         ^^^^^^^^^^^^^^^

SyntaxError: Duplicate export of 'notFoundHandler'
    at compileSourceTextModule (node:internal/modules/esm/utils:344:16)
    at ModuleLoader.moduleStrategy (node:internal/modules/esm/translators:106:18)
    at #translate (node:internal/modules/esm/loader:534:12)
    at ModuleLoader.loadAndTranslate (node:internal/modules/esm/loader:581:27)

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:88017) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/errors/ErrorHandler.js:346
export { errorHandler, notFoundHandler };
                       ^^^^^^^^^^^^^^^

SyntaxError: Duplicate export of 'notFoundHandler'
    at compileSourceTextModule (node:internal/modules/esm/utils:344:16)
    at ModuleLoader.moduleStrategy (node:internal/modules/esm/translators:106:18)
    at #translate (node:internal/modules/esm/loader:534:12)
    at ModuleLoader.loadAndTranslate (node:internal/modules/esm/loader:581:27)

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:88635) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)

node:internal/modules/run_main:104
    triggerUncaughtException(
    ^
Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'http-status-codes' imported from /Users/gsplace/ai back end game/packages/api/src/core/infra/errors/ErrorHandler.js
    at Object.getPackageJSONURL (node:internal/modules/package_json_reader:267:9)
    at packageResolve (node:internal/modules/esm/resolve:768:81)
    at moduleResolve (node:internal/modules/esm/resolve:854:18)
    at defaultResolve (node:internal/modules/esm/resolve:984:11)
    at nextResolve (node:internal/modules/esm/hooks:748:28)
    at resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/importResolver.mjs:16:10)
    at nextResolve (node:internal/modules/esm/hooks:748:28)
    at Hooks.resolve (node:internal/modules/esm/hooks:240:30)
    at handleMessage (node:internal/modules/esm/worker:199:24)
    at Immediate.checkForMessages (node:internal/modules/esm/worker:141:28) {
  code: 'ERR_MODULE_NOT_FOUND'
}

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:97021) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:97899) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 14:45:32.809  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:45:32.821  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:45:34.023  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:45:34.024  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:45:34.032  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:45:34.034  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:45:34.035  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:45:34.035  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:45:34.039  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:45:34.039  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:45:34.040  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:45:34.040  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:45:34.040  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:45:34.040  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:45:34.040  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:45:34.040  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:45:34.040  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:45:34.041  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:45:34.043  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:45:34.043  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:45:34.043  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:45:34.488  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:45:34.526  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:45:34.527  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:45:34.527  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:45:34.528  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:45:34.528  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:45:34.542  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:45:34.550  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
2025-03-31 14:45:34.554  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:45:34.554  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:45:34.554  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:45:34.554  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:45:34.554  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:45:34.554  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:45:34.554  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:45:34.554  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:159:3)
Created basic mock auth router for development
2025-03-31 14:45:34.727  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:45:34.728  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:45:34.728  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:45:34.728  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:45:34.729  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:45:34.729  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:45:34.730  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:45:34.730  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:45:34.768  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:45:34.768  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:45:34.822  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:45:34.822  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:45:34.823  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:45:34.823  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:45:34.823  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 14:45:34.823  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:45:34.823  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:45:34.823  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:45:34.823  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:45:35.052  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:45:35.052  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1394.95ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:45:35.161  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:45:35.181  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:45:35.182  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:45:35.183  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:45:35.183  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:45:35.183  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:45:35.184  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:45:35.185  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:45:35.361  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 178,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:46:35.187  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:46:35.194  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:46:35.701  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 516,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:883) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 14:47:20.103  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:47:20.189  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:47:21.232  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:47:21.423  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:47:21.428  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:47:21.429  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:21.429  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:47:21.429  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:47:21.431  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:21.431  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:21.432  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:47:21.432  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:47:21.432  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:47:21.432  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:47:21.432  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:47:21.432  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:47:21.432  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:47:21.432  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:47:21.435  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:47:21.435  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:47:21.436  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:47:23.223  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:47:23.271  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:47:23.272  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:47:23.272  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:47:23.272  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:47:23.272  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:47:23.274  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:23.275  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
2025-03-31 14:47:23.309  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:47:23.309  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:47:23.310  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:47:23.310  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:47:23.310  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:47:23.310  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:47:23.310  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:47:23.311  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:159:3)
Created basic mock auth router for development
2025-03-31 14:47:23.398  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:47:23.399  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:47:23.400  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:47:23.400  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:47:23.401  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:47:23.401  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:23.402  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:47:23.402  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:47:23.410  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:47:23.410  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:47:23.415  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:47:23.417  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:47:23.419  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:47:23.423  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:47:23.425  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 14:47:23.425  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:47:23.425  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:47:23.425  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:47:23.425  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:47:23.889  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:47:23.889  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "2984.29ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:47:23.914  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:47:23.916  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:47:23.917  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:47:23.917  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:47:23.917  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:47:23.917  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:47:23.917  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:47:23.918  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:47:24.098  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 181,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:1754) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 14:47:29.547  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:47:29.560  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:47:30.376  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:47:30.377  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:47:30.530  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:47:30.589  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:30.589  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:47:30.595  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:47:30.619  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:30.619  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:30.620  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:47:30.620  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:47:30.620  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:47:30.620  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:47:30.620  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:47:30.624  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:47:30.624  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:47:30.624  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:47:30.628  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:47:30.628  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:47:30.628  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:47:31.184  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:47:31.184  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:47:31.184  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:47:31.184  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:47:31.186  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:47:31.186  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:47:31.187  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:31.187  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
2025-03-31 14:47:31.188  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:47:31.188  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:47:31.188  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:47:31.188  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:47:31.188  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:47:31.188  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:47:31.188  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:47:31.188  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:174:3)
Created basic mock auth router for development
2025-03-31 14:47:31.213  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:47:31.214  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:47:31.215  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:47:31.215  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:47:31.217  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:47:31.217  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:47:31.222  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:47:31.223  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:47:31.230  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:47:31.230  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:47:31.232  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:47:31.232  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:47:31.233  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:47:31.233  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:47:31.233  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 14:47:31.233  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:47:31.233  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:47:31.233  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:47:31.233  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:47:31.731  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:47:31.732  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1412.32ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:47:31.734  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:47:31.736  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:47:31.739  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:47:31.739  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:47:31.739  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:47:31.740  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:47:31.740  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:47:31.742  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:47:31.939  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 199,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:48:31.742  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:48:31.745  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:48:32.112  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 370,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:49:29.555  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "1412.32ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 14:49:29.557  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "1412.32ms",
      "timestamp": "2025-03-31T03:47:31.731Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 14:49:31.742  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:49:31.745  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:49:32.113  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 371,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:50:31.743  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:50:31.745  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:50:32.110  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 367,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:51:31.743  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:51:31.746  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:51:32.092  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 350,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:52:32.027  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:52:32.058  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:52:32.447  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 645,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:53:31.939  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:53:31.961  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:53:32.342  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 489,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:54:31.852  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:54:31.857  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:54:32.155  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 304,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:11175) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 14:54:46.950  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:54:46.965  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:54:47.555  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:54:47.556  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:54:47.568  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:54:47.569  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:54:47.569  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:54:47.569  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:54:47.579  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:54:47.581  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:54:47.581  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:54:47.581  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:54:47.581  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:54:47.582  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:54:47.582  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:54:47.582  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:54:47.582  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:54:47.582  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:54:47.583  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:54:47.583  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:54:47.583  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:54:48.360  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:54:48.361  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:54:48.361  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:54:48.361  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:54:48.361  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:54:48.361  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:54:48.362  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:54:48.362  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Creating auth routes with Supabase integration
Successfully retrieved valid authController
2025-03-31 14:54:48.365  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:54:48.365  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:54:48.365  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:54:48.366  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:54:48.366  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:54:48.366  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:54:48.366  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:54:48.366  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Error loading auth routes module: TypeError: Cannot read properties of undefined (reading 'bind')
    at createAuthRoutes (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/authRoutes.js:319:64)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:381:28
    at async RouteFactory.mountAll (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/routes/RouteFactory.js:124:32)
    at async mountRoutesAndFinalize (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:174:3)
Created basic mock auth router for development
2025-03-31 14:54:48.436  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:54:48.436  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:54:48.436  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:54:48.436  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:54:48.436  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:54:48.437  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:54:48.437  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:54:48.437  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:54:48.442  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:54:48.443  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:54:48.455  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:54:48.459  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:54:48.460  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:54:48.460  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:54:48.460  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 14:54:48.460  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:54:48.460  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:54:48.460  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:54:48.460  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:54:48.956  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:54:48.958  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1505.95ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:54:49.006  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:54:49.008  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:54:49.009  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:54:49.009  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:54:49.009  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:54:49.009  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:54:49.009  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:54:49.010  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:54:49.267  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 258,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:55:49.011  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:55:49.014  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:55:49.317  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 306,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:56:46.967  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "1505.95ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 14:56:46.969  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "1505.95ms",
      "timestamp": "2025-03-31T03:54:48.958Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 14:56:49.013  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:56:49.017  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:56:49.347  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 335,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:14336) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 14:57:04.424  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:57:04.438  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:57:05.925  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:57:05.925  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:57:05.964  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:57:05.964  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:05.965  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:57:05.965  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:57:05.982  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:05.983  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:05.984  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:57:05.984  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:57:05.984  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:57:05.984  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:57:05.984  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:57:05.985  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:57:05.985  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:57:05.985  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:57:05.986  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:57:05.986  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:57:05.986  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:57:06.484  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:57:06.486  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:57:06.487  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:57:06.487  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:57:06.488  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:57:06.488  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:57:06.490  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:06.490  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 14:57:06.495  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:57:06.495  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:57:06.504  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:57:06.504  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:57:06.504  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:57:06.504  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:57:06.504  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:57:06.504  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 14:57:06.803  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:57:06.804  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:57:06.805  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:57:06.805  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:57:06.807  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:57:06.807  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:06.809  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:57:06.809  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:57:06.810  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:57:06.810  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:57:06.811  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:57:06.811  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:57:06.818  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:57:06.820  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:57:06.820  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 14:57:06.820  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:57:06.820  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:57:06.821  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:57:06.821  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 14:57:07.102  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:57:07.105  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:57:07.106  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:57:07.106  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1685.54ms",
  "namespace": "app:[object Object]"
}
2025-03-31 14:57:07.107  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:07.107  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:07.107  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:07.107  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:57:07.108  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:57:07.108  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:07.298  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 191,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:15761) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 14:57:29.118  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:57:29.125  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:57:30.080  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:57:30.081  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:57:30.109  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:57:30.112  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:30.117  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:57:30.127  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:57:30.134  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:30.139  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:30.140  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:57:30.141  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:57:30.141  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:57:30.142  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:57:30.142  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:57:30.144  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:57:30.144  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:57:30.145  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:57:30.147  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:57:30.147  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:57:30.148  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:57:30.707  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:57:30.709  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:57:30.709  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:57:30.709  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:57:30.709  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:57:30.710  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:57:30.710  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:30.710  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 14:57:30.714  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:57:30.715  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:57:30.715  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:57:30.715  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:57:30.715  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:57:30.715  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:57:30.715  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:57:30.715  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 14:57:30.725  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:57:30.725  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:57:30.726  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:57:30.726  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:57:30.726  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:57:30.726  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:30.727  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:57:30.727  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:57:30.728  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:57:30.728  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:57:30.729  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:57:30.729  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:57:30.729  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:57:30.730  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:57:30.730  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 14:57:30.730  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:57:30.730  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:57:30.730  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:57:30.730  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:57:31.416  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:57:31.417  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1551.60ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:57:31.439  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:57:31.440  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:57:31.441  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:31.441  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:31.442  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:31.442  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:57:31.443  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:57:31.443  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:31.647  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 205,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:16382) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 14:57:35.989  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:57:36.000  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:57:37.056  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:57:37.059  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:57:37.132  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:57:37.133  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:37.162  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:57:37.169  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:57:37.184  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:37.185  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:37.186  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:57:37.186  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:57:37.186  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:57:37.186  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:57:37.186  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:57:37.186  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:57:37.186  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:57:37.186  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:57:37.190  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:57:37.191  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:57:37.191  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:57:37.946  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:57:37.947  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:57:37.947  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:57:37.947  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:57:37.947  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:57:37.947  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:57:37.947  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:37.948  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 14:57:37.951  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:57:37.951  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:57:37.951  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:57:37.951  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:57:37.951  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:57:37.951  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:57:37.951  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:57:37.951  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 14:57:37.963  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:57:37.964  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:57:37.965  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:57:37.966  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:57:37.966  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:57:37.966  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:57:37.968  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:57:37.969  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:57:37.970  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:57:37.970  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:57:37.971  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:57:37.971  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:57:37.971  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:57:37.972  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:57:37.972  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 14:57:37.972  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:57:37.972  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:57:37.972  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:57:37.972  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:57:38.658  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:57:38.659  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1909.31ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:57:38.822  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:57:38.824  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:57:38.824  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:38.825  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:38.825  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:38.825  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:57:38.825  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:57:38.826  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:57:39.023  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 198,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:58:38.826  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:58:38.829  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:58:39.128  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 302,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:19082) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 14:59:02.499  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 14:59:02.642  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 14:59:03.523  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 14:59:03.523  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 14:59:03.529  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 14:59:03.530  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:59:03.530  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 14:59:03.530  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 14:59:03.532  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:59:03.532  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:59:03.532  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 14:59:03.532  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:59:03.532  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 14:59:03.532  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 14:59:03.533  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 14:59:03.533  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:59:03.533  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 14:59:03.533  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 14:59:03.534  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 14:59:03.534  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 14:59:03.534  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 14:59:03.937  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 14:59:03.938  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 14:59:03.938  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 14:59:03.938  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 14:59:03.938  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 14:59:03.938  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 14:59:03.939  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:59:03.940  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 14:59:03.943  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 14:59:03.943  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 14:59:03.943  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 14:59:03.943  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 14:59:03.943  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 14:59:03.943  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 14:59:03.943  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 14:59:03.943  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 14:59:04.426  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 14:59:04.427  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 14:59:04.427  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 14:59:04.428  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 14:59:04.428  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 14:59:04.428  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 14:59:04.429  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 14:59:04.429  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 14:59:04.430  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 14:59:04.431  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 14:59:04.431  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 14:59:04.431  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 14:59:04.433  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 14:59:04.433  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 14:59:04.434  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 14:59:04.434  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 14:59:04.434  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 14:59:04.436  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 14:59:04.437  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 14:59:05.280  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 14:59:05.281  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "1821.98ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 14:59:05.282  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 14:59:05.287  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 14:59:05.305  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:59:05.307  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:59:05.307  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:59:05.307  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 14:59:05.307  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 14:59:05.308  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 14:59:05.547  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 238,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:00:05.308  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:00:05.313  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:00:05.656  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 348,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:01:02.642  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "1821.98ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 15:01:02.643  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "1821.98ms",
      "timestamp": "2025-03-31T03:59:05.281Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 15:01:05.309  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:01:05.310  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:01:05.713  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 405,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:02:05.310  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:02:05.313  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:02:05.602  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 293,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:03:05.312  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:03:05.320  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:03:05.638  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 328,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:04:05.312  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:04:05.314  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:04:05.711  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 400,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:05:05.313  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:05:05.315  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:05:05.688  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 376,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:06:05.314  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:06:05.319  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:06:05.624  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 312,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:05.314  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:07:05.321  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:05.800  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 487,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:29793) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 15:07:19.881  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 15:07:19.947  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 15:07:20.885  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 15:07:20.886  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 15:07:20.902  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 15:07:20.903  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:20.904  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 15:07:20.904  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 15:07:20.907  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:20.908  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:20.908  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 15:07:20.908  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:07:20.908  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 15:07:20.908  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 15:07:20.908  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 15:07:20.908  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:07:20.909  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:07:20.909  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 15:07:20.910  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 15:07:20.916  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 15:07:20.916  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 15:07:21.954  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 15:07:21.955  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 15:07:21.955  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 15:07:21.956  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 15:07:21.956  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 15:07:21.956  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 15:07:21.959  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:21.966  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 15:07:21.973  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 15:07:21.973  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 15:07:21.974  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 15:07:21.974  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 15:07:21.974  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 15:07:21.974  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 15:07:21.974  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 15:07:21.974  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 15:07:22.355  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 15:07:22.356  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 15:07:22.356  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 15:07:22.356  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 15:07:22.365  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 15:07:22.366  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:22.375  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 15:07:22.375  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 15:07:22.380  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 15:07:22.392  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 15:07:22.394  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 15:07:22.394  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 15:07:22.403  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 15:07:22.404  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 15:07:22.404  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 15:07:22.404  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:07:22.404  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 15:07:22.405  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 15:07:22.405  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 15:07:22.872  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 15:07:22.873  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 15:07:22.875  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 15:07:22.876  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "2065.29ms",
  "namespace": "app:[object Object]"
}
2025-03-31 15:07:22.882  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:22.882  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:22.887  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:22.888  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 15:07:22.888  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:07:22.890  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:23.290  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 403,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:30999) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 15:07:26.749  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 15:07:26.794  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:31861) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 15:07:31.680  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 15:07:31.700  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 15:07:33.493  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 15:07:33.494  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 15:07:33.506  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 15:07:33.551  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:33.551  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 15:07:33.551  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 15:07:33.557  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:33.559  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:33.560  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 15:07:33.560  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:07:33.560  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 15:07:33.560  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 15:07:33.565  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 15:07:33.566  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:07:33.566  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:07:33.566  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 15:07:33.567  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 15:07:33.567  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 15:07:33.567  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:32960) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 15:07:37.502  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 15:07:37.512  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 15:07:38.753  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 15:07:38.766  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 15:07:38.933  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 15:07:38.933  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:38.934  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 15:07:38.934  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 15:07:38.935  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:38.936  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:38.939  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 15:07:38.939  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:07:38.939  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 15:07:38.939  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 15:07:38.939  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 15:07:38.945  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:07:38.946  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:07:38.946  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 15:07:38.949  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 15:07:38.949  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 15:07:38.950  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 15:07:40.447  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 15:07:40.448  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 15:07:40.448  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 15:07:40.448  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 15:07:40.448  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 15:07:40.449  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 15:07:40.449  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:40.451  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 15:07:40.455  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 15:07:40.455  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 15:07:40.455  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 15:07:40.455  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 15:07:40.455  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 15:07:40.455  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 15:07:40.456  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 15:07:40.456  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 15:07:40.509  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 15:07:40.510  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 15:07:40.511  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 15:07:40.511  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 15:07:40.512  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 15:07:40.512  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:07:40.514  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 15:07:40.514  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 15:07:40.515  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 15:07:40.515  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 15:07:40.516  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 15:07:40.516  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 15:07:40.518  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 15:07:40.521  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 15:07:40.521  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 15:07:40.521  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:07:40.522  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 15:07:40.523  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 15:07:40.523  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 15:07:41.192  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 15:07:41.194  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "2805.65ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 15:07:41.196  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 15:07:41.198  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 15:07:41.199  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:41.200  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:41.200  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:41.201  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 15:07:41.201  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:07:41.202  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:07:41.390  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 189,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:35122) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 15:08:18.137  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 15:08:18.381  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 15:08:20.616  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 15:08:20.619  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 15:08:20.682  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 15:08:20.725  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:08:20.745  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 15:08:20.745  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 15:08:20.841  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:08:20.842  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:08:20.843  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 15:08:20.843  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:08:20.874  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 15:08:20.874  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 15:08:20.874  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 15:08:20.874  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:08:20.875  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:08:20.917  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 15:08:20.987  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 15:08:21.036  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 15:08:21.064  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 15:08:21.953  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 15:08:21.953  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 15:08:21.954  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 15:08:21.954  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 15:08:21.954  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 15:08:21.954  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 15:08:21.954  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:08:21.955  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 15:08:21.961  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 15:08:21.961  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 15:08:21.961  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 15:08:21.961  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 15:08:21.961  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 15:08:21.961  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 15:08:21.961  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 15:08:21.961  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 15:08:22.152  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 15:08:22.153  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 15:08:22.153  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 15:08:22.153  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 15:08:22.153  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 15:08:22.154  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:08:22.155  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 15:08:22.156  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 15:08:22.157  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 15:08:22.157  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 15:08:22.158  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 15:08:22.158  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 15:08:22.161  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 15:08:22.162  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 15:08:22.162  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 15:08:22.162  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:08:22.162  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 15:08:22.201  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 15:08:22.202  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 15:08:22.683  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 15:08:22.684  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "3235.74ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 15:08:22.691  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 15:08:22.694  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:08:22.695  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:08:22.696  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:08:22.696  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 15:08:22.696  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:08:22.697  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:08:22.701  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 15:08:22.898  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 202,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:09:22.700  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:09:22.718  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:09:23.130  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 431,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:10:18.537  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "3235.74ms",
  "collectionPeriodSeconds": "120.2",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 15:10:18.547  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "3235.74ms",
      "timestamp": "2025-03-31T04:08:22.684Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 15:10:22.705  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:10:22.707  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:10:23.081  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 377,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:11:22.711  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:11:22.717  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:11:23.192  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 484,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:12:22.713  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:12:22.718  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:12:23.330  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 620,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:13:22.710  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:13:22.712  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:13:23.054  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 345,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:14:22.712  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:14:22.714  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:14:23.092  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 382,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:15:22.712  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:15:22.715  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:15:23.014  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 303,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:16:22.715  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:16:22.720  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:16:23.001  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 288,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:17:22.715  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:17:22.716  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:17:23.027  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 313,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:18:22.714  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:18:22.717  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:18:23.023  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 310,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:19:22.719  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:19:22.731  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:19:23.084  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 369,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:20:22.718  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:20:22.724  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:20:23.055  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 339,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:21:22.718  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:21:22.721  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:21:23.001  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 283,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:22:22.722  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:22:22.744  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:22:23.116  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 398,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:23:22.723  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:23:22.746  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:23:23.188  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 469,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:24:22.733  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:24:22.737  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:24:23.065  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 344,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:25:22.872  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:25:22.906  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:25:23.488  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 693,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:26:22.844  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:26:23.018  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:26:23.455  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 621,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:27:22.836  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:27:22.850  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:27:23.214  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 379,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:28:22.838  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:28:22.845  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:28:23.159  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 322,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:29:22.843  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:29:22.872  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:29:23.196  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 358,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:30:22.841  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:30:22.845  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:30:23.125  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 285,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:31:22.840  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:31:22.842  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:31:23.108  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 268,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:32:22.879  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:32:23.018  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:32:23.488  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 623,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:73217) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
✅ Sentry profiling integration initialized successfully
2025-03-31 15:33:31.384  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 15:33:31.523  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 15:33:35.196  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 15:33:35.211  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 15:33:35.441  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 15:33:35.443  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:33:35.443  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 15:33:35.447  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 15:33:35.454  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:33:35.459  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:33:35.460  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 15:33:35.460  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:33:35.461  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 15:33:35.461  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 15:33:35.461  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 15:33:35.476  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:33:35.477  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:33:35.477  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 15:33:35.487  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 15:33:35.649  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 15:33:35.674  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 15:33:37.419  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 15:33:37.419  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 15:33:37.420  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 15:33:37.420  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 15:33:37.420  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 15:33:37.420  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 15:33:37.422  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:33:37.422  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 15:33:37.433  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 15:33:37.433  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 15:33:37.434  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 15:33:37.436  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 15:33:37.437  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 15:33:37.437  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 15:33:37.437  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 15:33:37.437  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 15:33:37.472  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 15:33:37.473  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 15:33:37.473  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 15:33:37.473  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 15:33:37.473  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 15:33:37.474  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:33:37.475  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 15:33:37.475  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 15:33:37.476  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 15:33:37.476  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 15:33:37.477  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 15:33:37.477  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 15:33:37.477  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 15:33:37.478  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 15:33:37.478  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 15:33:37.478  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:33:37.478  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 15:33:37.478  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 15:33:37.478  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 15:33:38.275  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 15:33:38.276  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "3450.78ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 15:33:38.281  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 15:33:38.283  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 15:33:38.295  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:33:38.295  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:33:38.296  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:33:38.307  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 15:33:38.307  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:33:38.311  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:33:38.681  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 375,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:34:38.311  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:34:38.328  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:34:38.811  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 503,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:35:31.538  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "3450.78ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 15:35:31.552  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "3450.78ms",
      "timestamp": "2025-03-31T04:33:38.276Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 15:35:38.313  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:35:39.194  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:35:40.141  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 1829,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:36:38.319  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:36:38.323  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:36:38.687  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 373,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:37:38.319  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:37:38.330  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:37:38.632  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 317,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:38:38.317  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:38:38.320  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:38:38.626  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 310,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:39:38.318  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:39:38.319  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:39:38.688  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 372,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:40:38.319  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:40:38.322  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:40:38.719  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 401,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:41:38.341  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:41:38.346  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:41:38.698  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 361,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:42:38.343  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:42:38.352  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:42:39.694  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 1354,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:43:38.342  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:43:38.344  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:43:38.686  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 344,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:44:38.348  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:44:38.360  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:44:38.890  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 546,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:45:38.347  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:45:38.350  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:45:39.978  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 1632,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:46:38.350  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:46:38.358  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:46:38.701  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 353,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:47:38.758  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:47:39.032  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:47:39.666  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 1208,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:48:38.435  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:48:38.440  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:48:38.761  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 327,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:95981) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
node:internal/modules/cjs/loader:1405
  const err = new Error(message);
              ^

Error: Cannot find module '/Users/gsplace/ai back end game/node_modules/.pnpm/@sentry+profiling-node@1.3.5_@sentry+node@7.120.3/node_modules/@sentry/profiling-node/lib/sentry_cpu_profiler-darwin-arm64-131.node'
Require stack:
- /Users/gsplace/ai back end game/node_modules/.pnpm/@sentry+profiling-node@1.3.5_@sentry+node@7.120.3/node_modules/@sentry/profiling-node/lib/index.js
    at Function._resolveFilename (node:internal/modules/cjs/loader:1405:15)
    at defaultResolveImpl (node:internal/modules/cjs/loader:1061:19)
    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1066:22)
    at Function._load (node:internal/modules/cjs/loader:1215:37)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)
    at Module.require (node:internal/modules/cjs/loader:1491:12)
    at require (node:internal/modules/helpers:135:16)
    at importCppBindingsModule (/Users/gsplace/ai back end game/node_modules/.pnpm/@sentry+profiling-node@1.3.5_@sentry+node@7.120.3/node_modules/@sentry/profiling-node/lib/index.js:19266:10)
    at Object.<anonymous> (/Users/gsplace/ai back end game/node_modules/.pnpm/@sentry+profiling-node@1.3.5_@sentry+node@7.120.3/node_modules/@sentry/profiling-node/lib/index.js:19268:34) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/gsplace/ai back end game/node_modules/.pnpm/@sentry+profiling-node@1.3.5_@sentry+node@7.120.3/node_modules/@sentry/profiling-node/lib/index.js'
  ]
}

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:96932) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
ℹ️ Sentry profiling disabled in non-production environment
2025-03-31 15:49:40.663  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 15:49:40.732  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:34:30
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:43:28
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
ChangeWarning: The onLimitReached configuration option is deprecated and has been removed in express-rate-limit v7. See https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/ for more information.
    at Object.onLimitReached (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:263:13)
    at wrappedValidations.<computed> [as onLimitReached] (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:370:22)
    at parseOptions (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:606:16)
    at rateLimit (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/express-rate-limit@7.5.0_express@4.21.2/node_modules/express-rate-limit/dist/index.mjs:682:18)
    at createRateLimiter (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:17:10)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/http/middleware/rateLimit.js:52:33
    at ModuleJob.run (node:internal/modules/esm/module_job:274:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:98:5) {
  code: 'WRN_ERL_DEPRECATED_ON_LIMIT_REACHED',
  help: 'https://express-rate-limit.github.io/WRN_ERL_DEPRECATED_ON_LIMIT_REACHED/'
}
2025-03-31 15:49:43.614  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 15:49:43.615  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 15:49:43.621  [system] [[32MINFO[39M]: Sentry disabled in development environment {
  "namespace": "system"
}
2025-03-31 15:49:43.632  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:49:43.643  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 15:49:43.654  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 15:49:43.664  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:49:43.665  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:49:43.665  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 15:49:43.665  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:49:43.665  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 15:49:43.665  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 15:49:43.665  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 15:49:43.666  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:49:43.666  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 15:49:43.666  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 15:49:43.666  [system] [[33MWARN[39M]: Sentry not initialized - middleware will be no-op {
  "namespace": "system"
}
2025-03-31 15:49:43.667  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 15:49:43.667  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 15:49:43.667  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 15:49:45.277  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 15:49:45.279  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 15:49:45.279  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 15:49:45.280  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 15:49:45.280  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 15:49:45.280  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 15:49:45.280  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:49:45.281  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/awilix@12.0.5/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/awilix@12.0.5/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 15:49:46.763  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 15:49:46.833  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 15:49:46.834  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 15:49:46.834  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 15:49:46.837  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 15:49:46.837  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 15:49:46.841  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 15:49:46.842  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 15:49:48.030  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 15:49:48.103  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 15:49:48.226  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 15:49:48.226  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 15:49:48.240  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 15:49:48.241  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 15:49:48.284  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 15:49:48.285  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 15:49:48.303  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 15:49:48.322  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 15:49:48.377  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 15:49:48.378  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 15:49:48.378  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 15:49:48.380  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 15:49:48.380  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 15:49:48.380  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 15:49:48.380  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 15:49:48.380  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 15:49:48.380  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 15:49:48.385  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 15:49:48.391  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "5356.48ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 15:49:48.402  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 15:49:48.413  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 15:49:48.476  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:49:48.480  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:49:48.480  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:49:48.481  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 15:49:48.481  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:49:48.482  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 15:49:48.488  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:49:48.971  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 477,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:50:48.484  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:50:48.485  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 15:50:48.486  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:50:48.793  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 311,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:51:40.733  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "5356.48ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 15:51:40.734  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "5356.48ms",
      "timestamp": "2025-03-31T04:49:48.385Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 15:51:48.485  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:51:48.486  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 15:51:48.486  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:51:48.740  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 257,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:52:48.485  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:52:48.488  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 15:52:48.489  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:52:48.926  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 441,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:53:48.486  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:53:48.488  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 15:53:48.488  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:53:48.802  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 317,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:54:48.489  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:54:48.492  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 15:54:48.492  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:54:48.818  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 330,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:55:48.512  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 15:55:48.513  [system] [[33MWARN[39M]: Sentry not initialized - message not captured {
  "namespace": "system"
}
2025-03-31 15:55:48.514  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 15:55:48.833  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 323,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:5713) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)

node:internal/modules/run_main:104
    triggerUncaughtException(
    ^
Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'swagger-jsdoc' imported from /Users/gsplace/ai back end game/packages/api/src/config/swaggerSetup.js
    at Object.getPackageJSONURL (node:internal/modules/package_json_reader:267:9)
    at packageResolve (node:internal/modules/esm/resolve:768:81)
    at moduleResolve (node:internal/modules/esm/resolve:854:18)
    at defaultResolve (node:internal/modules/esm/resolve:984:11)
    at nextResolve (node:internal/modules/esm/hooks:748:28)
    at resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/importResolver.mjs:53:12)
    at nextResolve (node:internal/modules/esm/hooks:748:28)
    at Hooks.resolve (node:internal/modules/esm/hooks:240:30)
    at handleMessage (node:internal/modules/esm/worker:199:24)
    at checkForMessages (node:internal/modules/esm/worker:141:28) {
  code: 'ERR_MODULE_NOT_FOUND'
}

Node.js v23.10.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:31851) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
ℹ️ Sentry profiling disabled in non-production environment
2025-03-31 16:19:01.220  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 16:19:01.290  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
2025-03-31 16:19:02.896  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 16:19:02.897  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 16:19:02.953  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 16:19:02.953  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:19:02.954  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 16:19:02.954  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 16:19:02.959  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:19:02.961  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:19:02.962  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 16:19:02.962  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 16:19:02.962  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 16:19:02.962  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 16:19:02.962  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 16:19:02.963  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 16:19:02.963  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 16:19:02.964  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 16:19:02.972  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 16:19:02.972  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 16:19:02.972  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 16:19:04.676  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 16:19:04.700  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 16:19:04.717  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 16:19:04.719  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 16:19:04.735  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 16:19:04.741  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 16:19:04.752  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:19:04.774  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/awilix@12.0.5/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/awilix@12.0.5/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 16:19:04.782  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 16:19:04.783  [app] [[32MINFO[39M]: Server will listen on port 3001 {
  "namespace": "app"
}
2025-03-31 16:19:04.786  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3001/tester {
  "namespace": "app"
}
2025-03-31 16:19:04.787  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3001/api-docs {
  "namespace": "app"
}
2025-03-31 16:19:04.787  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 16:19:04.787  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 16:19:04.787  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 16:19:04.787  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 16:19:05.124  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 16:19:05.125  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 16:19:05.125  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 16:19:05.126  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 16:19:05.126  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 16:19:05.127  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:19:05.156  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 16:19:05.156  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 16:19:05.180  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 16:19:05.186  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 16:19:05.262  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 16:19:05.262  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 16:19:05.266  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 16:19:05.268  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 16:19:05.268  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 16:19:05.268  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 16:19:05.268  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 16:19:05.269  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 16:19:05.269  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 16:19:05.702  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 16:19:05.704  [app] [[31MERROR[39M]: Port 3001 is already in use {
  "namespace": "app"
}
2025-03-31 16:19:05.708  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 16:19:05.709  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "3118.14ms",
  "namespace": "app:[object Object]"
}
2025-03-31 16:19:05.710  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:19:05.711  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:19:05.711  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:19:05.712  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 16:19:05.712  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:19:05.712  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:19:05.898  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 187,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:20:05.714  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:20:05.717  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:20:06.398  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 685,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:21:01.289  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "3118.14ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 16:21:01.291  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "3118.14ms",
      "timestamp": "2025-03-31T05:19:05.709Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 16:21:05.715  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:21:05.716  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:21:06.058  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 344,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:22:05.716  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:22:05.719  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:22:06.028  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 313,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:23:05.717  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:23:05.719  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:23:06.134  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 418,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:24:05.717  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:24:05.719  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:24:06.231  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 514,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:25:05.719  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:25:05.721  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:25:06.035  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 317,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:26:05.719  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:26:05.722  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:26:06.063  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 344,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:27:05.720  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:27:05.723  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:27:06.054  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 335,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:28:05.702  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:28:05.709  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:28:06.060  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 359,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:29:05.706  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:29:05.713  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:29:06.041  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 339,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:43659) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
ℹ️ Sentry profiling disabled in non-production environment
2025-03-31 16:29:17.654  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 16:29:17.848  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
2025-03-31 16:29:20.105  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 16:29:20.105  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 16:29:20.129  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 16:29:20.131  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:29:20.132  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 16:29:20.133  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 16:29:20.134  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:29:20.135  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:29:20.135  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 16:29:20.135  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 16:29:20.135  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 16:29:20.135  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 16:29:20.135  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 16:29:20.135  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 16:29:20.136  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 16:29:20.136  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 16:29:20.138  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 16:29:20.139  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 16:29:20.139  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 16:29:22.139  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 16:29:22.192  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 16:29:22.205  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 16:29:22.205  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 16:29:22.208  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 16:29:22.209  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 16:29:22.257  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:29:22.258  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/awilix@12.0.5/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/awilix@12.0.5/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 16:29:22.272  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 16:29:22.272  [app] [[32MINFO[39M]: Server will listen on port 3002 {
  "namespace": "app"
}
2025-03-31 16:29:22.277  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3002/tester {
  "namespace": "app"
}
2025-03-31 16:29:22.289  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3002/api-docs {
  "namespace": "app"
}
2025-03-31 16:29:22.289  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 16:29:22.289  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 16:29:22.289  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 16:29:22.289  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 16:29:23.405  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 16:29:23.413  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 16:29:23.414  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 16:29:23.414  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 16:29:23.423  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 16:29:23.424  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:29:23.436  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 16:29:23.437  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 16:29:23.437  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 16:29:23.438  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 16:29:23.438  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 16:29:23.439  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 16:29:23.447  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 16:29:23.448  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 16:29:23.448  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 16:29:23.448  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 16:29:23.448  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 16:29:23.448  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 16:29:23.448  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
Database connection initialized successfully
2025-03-31 16:29:23.814  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 16:29:23.815  [app] [[31MERROR[39M]: Port 3002 is already in use {
  "namespace": "app"
}
2025-03-31 16:29:23.816  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 16:29:23.816  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "4416.03ms",
  "namespace": "app:[object Object]"
}
2025-03-31 16:29:23.824  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:29:23.824  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:29:23.824  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:29:23.825  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 16:29:23.825  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:29:23.830  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:29:24.112  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 287,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:30:26.680  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:30:32.982  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:30:36.963  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 10283,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:31:17.687  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "4416.03ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 16:31:17.689  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "4416.03ms",
      "timestamp": "2025-03-31T05:29:23.816Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 16:31:26.845  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:31:26.923  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:31:27.266  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 586,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:32:26.686  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:32:26.690  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:32:27.120  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 439,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:48622) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
ℹ️ Sentry profiling disabled in non-production environment
2025-03-31 16:33:34.321  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 16:33:34.578  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
2025-03-31 16:33:38.423  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 16:33:38.424  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 16:33:38.605  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 16:33:38.607  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:33:38.618  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 16:33:38.619  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 16:33:38.622  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:33:38.623  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:33:38.623  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 16:33:38.623  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 16:33:38.624  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 16:33:38.624  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 16:33:38.624  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 16:33:38.631  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 16:33:38.638  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 16:33:38.639  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
2025-03-31 16:33:38.643  [app] [[32MINFO[39M]: Applied global rate limiting to all API routes {
  "windowMs": 900000,
  "max": 100,
  "namespace": "app"
}
2025-03-31 16:33:38.643  [app] [[32MINFO[39M]: Applied authentication rate limiting {
  "windowMs": 900000,
  "max": 10,
  "namespace": "app"
}
2025-03-31 16:33:38.643  [app] [[32MINFO[39M]: Applied sensitive operations rate limiting {
  "windowMs": 3600000,
  "max": 5,
  "namespace": "app"
}
2025-03-31 16:33:40.725  [app] [[32MINFO[39M]: API documentation available at http://localhost:3000/api-docs (Development Mode) {
  "namespace": "app"
}
2025-03-31 16:33:40.742  [app] [[32MINFO[39M]: API Tester UI available at /tester {
  "namespace": "app"
}
2025-03-31 16:33:40.742  [app] [[32MINFO[39M]: API Tester debugging endpoints available at /api/v1/api-tester {
  "namespace": "app"
}
2025-03-31 16:33:40.743  [app] [[32MINFO[39M]: Sentry test routes available at /api/v1/sentry-test (disabled in production) {
  "namespace": "app"
}
2025-03-31 16:33:40.743  [app] [[33MWARN[39M]: Event bus not properly initialized, skipping event handler registration {
  "namespace": "app"
}
2025-03-31 16:33:40.743  [app] [[32MINFO[39M]: Tester UI static files mounted at /tester {
  "namespace": "app"
}
Setting up routes in development mode
2025-03-31 16:33:40.771  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:33:40.772  [app] [[31MERROR[39M]: Failed to mount route: /api/v1/users {
  "error": "eventBus is required for FocusAreaGenerationCoordinator",
  "stack": "Error: eventBus is required for FocusAreaGenerationCoordinator\n    at FocusAreaGenerationCoordinator.validateDependencies (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/BaseCoordinator.js:46:27)\n    at new FocusAreaGenerationCoordinator (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaGenerationCoordinator.js:48:14)\n    at new FocusAreaCoordinatorFacade (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/application/focusArea/FocusAreaCoordinatorFacade.js:40:38)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/coordinators.js:33:16\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/awilix@12.0.5/node_modules/awilix/lib/awilix.module.mjs:1550:41)\n    at Object.get (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:30:36)\n    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/controllers.js:40:37\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/config/container/index.js:52:36)\n    at Object.resolve (file:///Users/gsplace/ai%20back%20end%20game/node_modules/.pnpm/awilix@12.0.5/node_modules/awilix/lib/awilix.module.mjs:1558:45)",
  "critical": true,
  "namespace": "app"
}
Auth controller missing method: refresh
Auth controller missing method: forgotPassword
Auth controller missing method: resetPassword
2025-03-31 16:33:40.793  [app] [[32MINFO[39M]: Starting server in development mode {
  "namespace": "app"
}
2025-03-31 16:33:40.793  [app] [[32MINFO[39M]: Server will listen on port 3002 {
  "namespace": "app"
}
2025-03-31 16:33:40.800  [app] [[32MINFO[39M]: API tester UI will be available at http://localhost:3002/tester {
  "namespace": "app"
}
2025-03-31 16:33:40.804  [app] [[32MINFO[39M]: API Documentation will be available at http://localhost:3002/api-docs {
  "namespace": "app"
}
2025-03-31 16:33:40.805  [app] [[32MINFO[39M]: Development mode detected {
  "namespace": "app"
}
2025-03-31 16:33:40.805  [app] [[32MINFO[39M]: Madge has successfully analyzed the codebase {
  "namespace": "app"
}
2025-03-31 16:33:40.805  [app] [[32MINFO[39M]: Issues have been identified and fixed in the ES module imports/exports {
  "namespace": "app"
}
2025-03-31 16:33:40.805  [app] [[32MINFO[39M]: Initializing Supabase connection... {
  "namespace": "app"
}
Initializing database connection...
Using fallback auth routes due to invalid controller
Created basic mock auth router for development
2025-03-31 16:33:45.248  [app] [[32MINFO[39M]: Mounted route: /api/v1/auth {
  "namespace": "app"
}
2025-03-31 16:33:45.468  [app] [[31MERROR[39M]: Method getPersonalityRecommendations not found on controller PersonalityController for route /personality/recommendations {
  "namespace": "app"
}
2025-03-31 16:33:45.480  [app] [[31MERROR[39M]: Method submitPersonalityAssessment not found on controller PersonalityController for route /personality/assessment/submit {
  "namespace": "app"
}
2025-03-31 16:33:45.485  [app] [[32MINFO[39M]: Mounted route: /api/v1/personality {
  "namespace": "app"
}
2025-03-31 16:33:45.506  [app] [[32MINFO[39M]: Mounted route: /api/v1/progress {
  "namespace": "app"
}
2025-03-31 16:33:45.520  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:33:45.530  [app] [[32MINFO[39M]: Mounted route: /api/v1/challenges {
  "namespace": "app"
}
2025-03-31 16:33:45.531  [app] [[32MINFO[39M]: Mounted route: /api/v1/evaluations {
  "namespace": "app"
}
Error creating adaptive routes: AdaptiveRepository is not a constructor
Creating mock adaptive routes for development
2025-03-31 16:33:45.822  [app] [[32MINFO[39M]: Mounted route: /api/v1/adaptive {
  "namespace": "app"
}
2025-03-31 16:33:45.993  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating user journey routes: Missing method: getUserJourneyEvents on UserJourneyController
Creating mock user journey routes for development
2025-03-31 16:33:45.995  [app] [[32MINFO[39M]: Mounted route: /api/v1/user-journey {
  "namespace": "app"
}
2025-03-31 16:33:45.995  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
Error creating focus area routes: eventBus is required for FocusAreaGenerationCoordinator
Creating mock focus area routes for development
2025-03-31 16:33:46.005  [app] [[32MINFO[39M]: Mounted route: /api/v1/focus-areas {
  "namespace": "app"
}
2025-03-31 16:33:46.029  [app] [[32MINFO[39M]: Mounted route: /api/v1/health {
  "namespace": "app"
}
2025-03-31 16:33:46.030  [app] [[33MWARN[39M]: Mounted 9/10 routes, 1 failed {
  "namespace": "app"
}
2025-03-31 16:33:46.030  [app] [[31MERROR[39M]: 1 critical route(s) failed to mount. Application may not function correctly. {
  "namespace": "app"
}
2025-03-31 16:33:46.031  [app] [[32MINFO[39M]: Registered validation schemas for 0 routes {
  "namespace": "app"
}
2025-03-31 16:33:46.033  [app] [[32MINFO[39M]: Routes mounted successfully at /api/v1 {
  "namespace": "app"
}
2025-03-31 16:33:46.033  [app] [[32MINFO[39M]: Application initialized successfully {
  "namespace": "app"
}
2025-03-31 16:33:47.171  [app] [[32MINFO[39M]: Supabase client initialized successfully {
  "namespace": "app"
}
2025-03-31 16:33:47.171  [app:[object Object]] [[33MWARN[39M]: Slow query detected {
  "query": "select from users [then]",
  "operation": "select",
  "repository": "unknown",
  "method": "unknown",
  "duration": "9749.38ms",
  "namespace": "app:[object Object]"
}
Database connection initialized successfully
2025-03-31 16:33:47.173  [app] [[32MINFO[39M]: Supabase connection initialized successfully {
  "namespace": "app"
}
2025-03-31 16:33:47.254  [app] [[31MERROR[39M]: Port 3002 is already in use {
  "namespace": "app"
}
2025-03-31 16:33:47.280  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for openai {
  "category": "external-api",
  "isCritical": true,
  "serviceCount": 1,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:33:47.280  [system:health-check-scheduler] [[32MINFO[39M]: Registered health check for database {
  "category": "database",
  "isCritical": true,
  "serviceCount": 2,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:33:47.281  [system:health-check-scheduler] [[32MINFO[39M]: Starting scheduled health checks {
  "intervalMs": 60000,
  "registeredServices": [
    "openai",
    "database"
  ],
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:33:47.300  [app] [[32MINFO[39M]: Health checks registered and started {
  "namespace": "app"
}
2025-03-31 16:33:47.301  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:33:47.313  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:33:48.087  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 806,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:34:47.303  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:34:47.317  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:34:47.608  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 306,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:35:34.573  [app:[object Object]] [[32MINFO[39M]: Query performance statistics {
  "totalQueries": 1,
  "queriesPerSecond": "0.01",
  "avgQueryTime": "9749.38ms",
  "collectionPeriodSeconds": "120.0",
  "slowQueriesCount": 1,
  "namespace": "app:[object Object]"
}
2025-03-31 16:35:34.577  [app:[object Object]] [[33MWARN[39M]: Slow queries detected {
  "count": 1,
  "slowest": [
    {
      "query": "select from users [then]",
      "duration": "9749.38ms",
      "timestamp": "2025-03-31T05:33:47.171Z"
    }
  ],
  "namespace": "app:[object Object]"
}
2025-03-31 16:35:47.303  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:35:47.306  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:35:47.758  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 456,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:36:47.304  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:36:47.307  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:36:47.623  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 320,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:37:47.305  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:37:47.309  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:37:47.677  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 373,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:38:47.306  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:38:47.311  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:38:47.663  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 358,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:39:47.306  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:39:47.311  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:39:47.594  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 288,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:40:47.308  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:40:47.310  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:40:47.595  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 288,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:41:47.310  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:41:47.313  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:41:47.683  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 375,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:42:47.309  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:42:47.314  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:42:47.687  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 378,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:43:47.327  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:43:47.332  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:43:47.798  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 473,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:44:47.342  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:44:47.345  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:44:47.670  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 328,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:45:47.344  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:45:47.347  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:45:47.703  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 359,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:46:47.345  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:46:47.347  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:46:47.928  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 584,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:47:47.345  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:47:47.349  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:47:47.773  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 428,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:48:47.347  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:48:47.350  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:48:48.230  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 884,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:49:47.348  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:49:47.352  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:49:47.623  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 276,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:50:47.349  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:50:47.352  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:50:47.702  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 354,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:51:47.351  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:51:47.354  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:51:47.666  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 316,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:52:47.353  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:52:47.359  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:52:47.717  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 365,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:53:47.356  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:53:47.361  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:53:47.656  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 302,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:54:47.358  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:54:47.366  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:54:47.695  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 338,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:55:47.359  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:55:47.363  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:55:47.657  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 299,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:56:47.360  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:56:47.363  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:56:47.674  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 314,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:57:47.362  [infra:api:openai:monitoring] [[33MWARN[39M]: OpenAI API health check failed {
  "status": "ok",
  "circuitBreakerStatus": "unknown",
  "namespace": "infra:api:openai:monitoring"
}
2025-03-31 16:57:47.365  [system:health-check-scheduler] [[33MWARN[39M]: Mock OpenAI client is operational {
  "service": "openai",
  "status": "ok",
  "namespace": "system:health-check-scheduler"
}
2025-03-31 16:57:47.741  [system:health-check-scheduler] [[32MINFO[39M]: Health check summary {
  "status": "unhealthy",
  "executionTimeMs": 380,
  "services": 2,
  "criticalFailure": true,
  "namespace": "system:health-check-scheduler"
}
[32m[nodemon] restarting child process[39m
[32m[nodemon] starting `node --experimental-modules --loader ./src/importResolver.mjs src/index.js`[39m
(node:69028) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("./src/importResolver.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
(node:69028) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/index.js is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /Users/gsplace/ai back end game/packages/api/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
Configuration validated successfully for 'development' environment
ℹ️ Sentry profiling disabled in non-production environment
2025-03-31 16:58:21.870  [app:[object Object]] [[32MINFO[39M]: DomainEvents compatibility layer initialized {
  "namespace": "app:[object Object]"
}
2025-03-31 16:58:21.884  [app] [[32MINFO[39M]: Supabase client configured {
  "supabaseUrl": "https://dvmfpddmnzaxjmxxpupk.supabase.co",
  "environment": "development",
  "queryMonitoringEnabled": true,
  "namespace": "app"
}
2025-03-31 16:58:22.106  [app] [[32MINFO[39M]: Creating cache provider: memory {
  "namespace": "app"
}
2025-03-31 16:58:22.106  [app:[object Object]] [[32MINFO[39M]: Memory cache provider initialized {
  "defaultTTL": 300,
  "checkPeriod": 60,
  "namespace": "app:[object Object]"
}
ChallengeService running in development mode with mock repository
2025-03-31 16:58:22.135  [system] [[32MINFO[39M]: Sentry initialized successfully {
  "environment": "development",
  "release": "1.0.0",
  "tracesSampleRate": 0.1,
  "namespace": "system"
}
2025-03-31 16:58:22.136  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:58:22.137  [infra:api] [[33MWARN[39M]: Using MockOpenAIClientAdapter - API responses will be simulated {
  "namespace": "infra:api"
}
2025-03-31 16:58:22.137  [infra:api] [[32MINFO[39M]: MockOpenAIClientAdapter initialized - All API calls will return mock data {
  "namespace": "infra:api"
}
2025-03-31 16:58:22.138  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:58:22.139  [domain:challenge] [[32MINFO[39M]: ChallengeService running in development mode with real repository {
  "namespace": "domain:challenge"
}
2025-03-31 16:58:22.140  [app] [[31MERROR[39M]: Critical dependencies missing from container {
  "missingDependencies": [
    "userController"
  ],
  "namespace": "app"
}
2025-03-31 16:58:22.141  [app] [[33MWARN[39M]: WARNING: Some critical dependencies could not be resolved. The application may not function correctly. {
  "namespace": "app"
}
2025-03-31 16:58:22.141  [app] [[32MINFO[39M]: Running in development mode {
  "namespace": "app"
}
2025-03-31 16:58:22.141  [app] [[32MINFO[39M]: Environment: {
  "NODE_ENV": "development",
  "SUPABASE_URL": "set",
  "SUPABASE_KEY": "set",
  "namespace": "app"
}
2025-03-31 16:58:22.141  [app] [[32MINFO[39M]: Initializing application event handlers {
  "namespace": "app"
}
2025-03-31 16:58:22.141  [app:eventHandlers] [[32MINFO[39M]: Registering application event handlers {
  "namespace": "app:eventHandlers"
}
2025-03-31 16:58:22.141  [app:eventHandlers] [[32MINFO[39M]: Application event handlers registered {
  "namespace": "app:eventHandlers"
}
2025-03-31 16:58:22.141  [app] [[32MINFO[39M]: Application event handlers registered successfully {
  "namespace": "app"
}
TypeError: Cannot read properties of undefined (reading 'requestHandler')
    at createSentryMiddleware (file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/core/infra/monitoring/sentry.js:163:37)
    at file:///Users/gsplace/ai%20back%20end%20game/packages/api/src/app.js:75:26
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
node:events:485
      throw er; // Unhandled 'error' event
      ^

Error: read EIO
    at TTY.onStreamRead (node:internal/stream_base_commons:216:20)
Emitted 'error' event on ReadStream instance at:
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  errno: -5,
  code: 'EIO',
  syscall: 'read'
}

Node.js v23.10.0
